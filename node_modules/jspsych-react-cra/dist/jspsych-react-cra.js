!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["jspsych-react-cra"]=t():e["jspsych-react-cra"]=t()}(window,(function(){return t=[function(e,t,r){var i,n,a,s,o,l,p,u,c=function(){var e,t,r,i,n={},a={},s=0,o={},l=!1,p=!1,u=!1,d=!1,y=!1;function m(e,t,r){var i,n,a,s,o,l={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},p=this;this.trial=function(){return void 0===s?c.utils.deepCopy(a):l.current_location>=s.timeline.length?null:s.timeline[l.current_location].trial()},this.markCurrentTrialComplete=function(){void 0===s?l.done=!0:s.timeline[l.current_location].markCurrentTrialComplete()},this.nextRepetiton=function(){this.setTimelineVariablesOrder(),l.current_location=-1,l.current_variable_set=0,l.current_repetition++;for(var e=0;e<s.timeline.length;e++)s.timeline[e].reset()},this.setTimelineVariablesOrder=function(){if(void 0!==s&&void 0!==s.timeline_variables){for(var e=[],t=0;t<s.timeline_variables.length;t++)e.push(t);void 0!==s.sample&&("custom"==s.sample.type?e=s.sample.fn(e):"with-replacement"==s.sample.type?e=c.randomization.sampleWithReplacement(e,s.sample.size,s.sample.weights):"without-replacement"==s.sample.type?e=c.randomization.sampleWithoutReplacement(e,s.sample.size):"fixed-repetitions"==s.sample.type&&(e=c.randomization.repeat(e,s.sample.size,!1))),s.randomize_order&&(e=c.randomization.shuffle(e)),l.order=e}},this.nextSet=function(){l.current_location=-1,l.current_variable_set++;for(var e=0;e<s.timeline.length;e++)s.timeline[e].reset()},this.advance=function(){if(l.done)return!0;if(-1==l.current_location){if(void 0!==s)if(void 0!==s.conditional_function){if(0==s.conditional_function())return l.done=!0;l.current_location=0}else l.current_location=0;return l.current_location=0,this.advance()}if(void 0!==s){for(var e=!1;l.current_location<s.timeline.length&&0==e;){if(!s.timeline[l.current_location].advance())return!(e=!0);l.current_location++}return l.current_variable_set<l.order.length-1?(this.nextSet(),this.advance()):l.current_repetition<s.repetitions-1?(this.nextRepetiton(),this.advance()):void 0!==s.loop_function&&s.loop_function(this.generatedData())?(this.reset(),n.advance()):l.done=!0}},this.isComplete=function(){return l.done},this.getTimelineVariableValue=function(e){if(void 0!==s)return s.timeline_variables[l.order[l.current_variable_set]][e]},this.findTimelineVariable=function(e){var t=this.getTimelineVariableValue(e);return void 0!==t?t:void 0!==n?n.findTimelineVariable(e):void 0},this.timelineVariable=function(e){if(void 0===s)return this.findTimelineVariable(e);var t=Math.max(0,l.current_location);return s.timeline[t].timelineVariable(e)},this.length=function(){var e=0;if(void 0===s)return 1;for(var t=0;t<s.timeline.length;t++)e+=s.timeline[t].length();return e},this.percentComplete=function(){for(var e=this.length(),t=0,r=0;r<s.timeline.length;r++)s.timeline[r].isComplete()&&(t+=s.timeline[r].length());return t/e*100},this.reset=function(){if(l.current_location=-1,l.current_repetition=0,l.current_variable_set=0,l.current_iteration++,l.done=!1,this.setTimelineVariablesOrder(),void 0!==s)for(var e=0;e<s.timeline.length;e++)s.timeline[e].reset()},this.end=function(){l.done=!0},this.endActiveNode=function(){void 0===s?(this.end(),n.end()):s.timeline[l.current_location].endActiveNode()},this.ID=function(){var e="";return void 0===n?"0."+l.current_iteration:(e+=n.ID()+"-",e+=i+"."+l.current_iteration)},this.activeID=function(){return void 0===s?this.ID():s.timeline[l.current_location].activeID()},this.generatedData=function(){return c.data.getDataByTimelineNode(this.ID())},this.trialsOfType=function(e){if(void 0===s)return a.type==e?a:[];for(var t=[],r=0;r<s.timeline.length;r++){var i=s.timeline[r].trialsOfType(e);t=t.concat(i)}return t},this.insert=function(e){void 0===s?console.error("Cannot add new trials to a trial-level node."):s.timeline.push(new m(Object.assign({},o,e),p,s.timeline.length))},function(){if(i=void 0===(n=t)?0:r,void 0!==e.timeline||"function"==typeof c.plugins[f]){s={timeline:[],loop_function:e.loop_function,conditional_function:e.conditional_function,sample:e.sample,randomize_order:void 0!==e.randomize_order&&e.randomize_order,repetitions:void 0===e.repetitions?1:e.repetitions,timeline_variables:void 0===e.timeline_variables?[{}]:e.timeline_variables},p.setTimelineVariablesOrder();var l=Object.assign({},e);delete l.timeline,delete l.conditional_function,delete l.loop_function,delete l.randomize_order,delete l.repetitions,delete l.timeline_variables,delete l.sample,o=l;for(var u=0;u<e.timeline.length;u++){var d,y=Object.assign({},l,e.timeline[u]);"object"==typeof l.data&&"object"==typeof e.timeline[u].data&&(d=Object.assign({},l.data,e.timeline[u].data),y.data=d),s.timeline.push(new m(y,p,u))}}else{var f=e.type;void 0===f?console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(e)):void 0===c.plugins[f]&&"function(){returntimeline.timelineVariable(varname);}"!=f.toString().replace(/\s/g,"")&&console.error('No plugin loaded for trials of type "'+f+'"'),a=Object.assign({},e)}}()}function f(){var t;(d=!0)===a.show_progress_bar&&(t=a.message_progress_bar,document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+t+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')),i=new Date,e.advance(),g(e.trial())}function h(){if(p)u=!0;else{s++,e.markCurrentTrialComplete();var t,i=e.advance();if(!0===a.show_progress_bar&&1==a.auto_update_progress_bar&&(t=c.progress().percent_complete,n.setProgressBar(t/100)),i)return void 0!==e.end_message&&(r.innerHTML=e.end_message),void a.on_finish(c.data.get());g(e.trial())}}function g(e){l=!1,function e(t){if(null!==t)for(var r=Object.keys(t),i=0;i<r.length;i++)"function"==typeof t[r[i]]&&"function(){returntimeline.timelineVariable(varname);}"==t[r[i]].toString().replace(/\s/g,"")&&(t[r[i]]=t[r[i]].call()),"object"==typeof t[r[i]]&&null!==t[r[i]]&&e(t[r[i]])}(o=e),function(e){"function"==typeof e.type&&(e.type=e.type.call());for(var t=Object.keys(e),r=0;r<t.length;r++)if("type"!==t[r]&&(void 0!==c.plugins.universalPluginParameters[t[r]]&&c.plugins.universalPluginParameters[t[r]].type!==c.plugins.parameterType.FUNCTION||void 0!==c.plugins[e.type].info.parameters[t[r]]&&c.plugins[e.type].info.parameters[t[r]].type!==c.plugins.parameterType.FUNCTION)&&"function"==typeof e[t[r]]&&(e[t[r]]=e[t[r]].call()),"data"==t[r])for(var i=Object.keys(e[t[r]]),n=0;n<i.length;n++)"function"==typeof e[t[r]][i[n]]&&(e[t[r]][i[n]]=e[t[r]][i[n]].call())}(e),function(e){for(var t in c.plugins[e.type].info.parameters)if(c.plugins[e.type].info.parameters[t].type==c.plugins.parameterType.COMPLEX){if(1==c.plugins[e.type].info.parameters[t].array)for(var r in e[t])for(var i in c.plugins[e.type].info.parameters[t].nested)void 0!==e[t][r][i]&&null!==e[t][r][i]||(void 0===c.plugins[e.type].info.parameters[t].nested[i].default?console.error("You must specify a value for the "+i+" parameter (nested in the "+t+" parameter) in the "+e.type+" plugin."):e[t][r][i]=c.plugins[e.type].info.parameters[t].nested[i].default)}else void 0!==e[t]&&null!==e[t]||(void 0===c.plugins[e.type].info.parameters[t].default?console.error("You must specify a value for the "+t+" parameter in the "+e.type+" plugin."):e[t]=c.plugins[e.type].info.parameters[t].default)}(e),a.on_trial_start(e),"function"==typeof e.on_start&&e.on_start(e),t.focus(),r.scrollTop=0,c.plugins[e.type].trial(r,e),"function"==typeof e.on_load&&e.on_load()}n.webaudio_context=null,"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext),n.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,n.ALL_KEYS="allkeys",n.NO_KEYS="none",n.init=function(i){void 0===i.timeline&&console.error("No timeline declared in jsPsych.init. Cannot start experiment."),e=null,s=0,y=d=u=p=l=!(o={}),c.data.reset(),void 0===(a=Object.assign({},{display_element:void 0,on_finish:function(e){},on_trial_start:function(e){},on_trial_finish:function(){},on_data_update:function(e){},on_interaction_data_update:function(e){},on_close:function(){},preload_images:[],preload_audio:[],preload_video:[],use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,auto_preload:!0,show_preload_progress_bar:!0,max_load_time:6e4,max_preload_attempts:10,default_iti:0},i)).display_element?(null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",a.display_element=document.querySelector("body")):null===(i=a.display_element instanceof Element?a.display_element:document.querySelector("#"+a.display_element))?console.error("The display_element specified in jsPsych.init() does not exist in the DOM."):a.display_element=i,a.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',t=a.display_element,r=document.querySelector("#jspsych-content"),a.display_element.tabIndex=0,-1==a.display_element.className.indexOf("jspsych-display-element")&&(a.display_element.className+=" jspsych-display-element"),r.className+="jspsych-content",e=new m({timeline:a.timeline}),c.pluginAPI.initAudio(),c.pluginAPI.reset(a.display_element),c.pluginAPI.createKeyboardEventListeners(a.display_element),c.data.createInteractionListeners(),window.addEventListener("beforeunload",a.on_close),function e(t,r,i){var a=!0;if(void 0!==t.min_width||void 0!==t.min_height){var s=void 0!==t.min_width?t.min_width:0,o=void 0!==t.min_height?t.min_height:0,l=window.innerWidth,p=window.innerHeight;if(l<s||p<o){a=!1;var u=setInterval((function(){var a=window.innerWidth,l=window.innerHeight;a<s||l<o?(l="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+s+"px. Your current width is "+a+"px.</p><p>The minimum height is "+o+"px. Your current height is "+l+"px.</p>",n.getDisplayElement().innerHTML=l):(clearInterval(u),n.getDisplayElement().innerHTML="",e(t,r,i))}),100);return}}if(void 0!==t.audio&&t.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))return a=!1,n.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",void i();a&&r()}(a.exclusions,(function(){a.auto_preload?(c.pluginAPI.autoPreload(e,f,a.preload_images,a.preload_audio,a.preload_video,a.show_preload_progress_bar),0<a.max_load_time&&setTimeout((function(){d||y||n.loadFail()}),a.max_load_time)):f()}),(function(){}))},n.progress=function(){var t=void 0===e?0:e.percentComplete();return{total_trials:void 0===e?void 0:e.length(),current_trial_global:s,percent_complete:t}},n.startTime=function(){return i},n.totalTime=function(){return void 0===i?0:(new Date).getTime()-i.getTime()},n.getDisplayElement=function(){return r},n.getDisplayContainerElement=function(){return t},n.finishTrial=function(e){l||(l=!0,c.data.write(e=void 0===e?{}:e),e=c.data.get().filter({trial_index:s}).values()[0],"function"==typeof o.on_finish&&o.on_finish(e),a.on_trial_finish(e),a.on_data_update(e),null===typeof o.post_trial_gap?0<a.default_iti?setTimeout(h,a.default_iti):h():0<o.post_trial_gap?setTimeout(h,o.post_trial_gap):h())},n.endExperiment=function(t){e.end_message=t,e.end(),c.pluginAPI.cancelAllKeyboardResponses(),c.pluginAPI.clearAllTimeouts(),n.finishTrial()},n.endCurrentTimeline=function(){e.endActiveNode()},n.currentTrial=function(){return o},n.initSettings=function(){return a},n.currentTimelineNodeID=function(){return e.activeID()},n.timelineVariable=function(t,r){return r?e.timelineVariable(t):function(){return e.timelineVariable(t)}},n.addNodeToEndOfTimeline=function(t,r){e.insert(t),"undefinded"!=typeof r&&(a.auto_preload?c.pluginAPI.autoPreload(e,r):r())},n.pauseExperiment=function(){p=!0},n.resumeExperiment=function(){p=!1,u&&(u=!1,h())},n.loadFail=function(e){y=!0,r.innerHTML=e=e||"<p>The experiment failed to load.</p>"};var _=0;return n.setProgressBar=function(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*e+"%",_=e},n.getProgressBarCompleted=function(){return _},document.documentElement.setAttribute("jspsych","present"),n}();function d(e){var t={},r=void 0===e?[]:e;return t.push=function(e){return r.push(e),t},t.join=function(e){return r=r.concat(e.values()),t},t.top=function(){return r.length<=1?t:d([r[r.length-1]])},t.first=function(e){void 0===e&&(e=1);for(var t=[],i=0;i<e;i++)t.push(r[i]);return d(t)},t.last=function(e){for(var t=[],i=r.length-(e=void 0===e?1:e);i<r.length;i++)t.push(r[i]);return d(t)},t.values=function(){return r},t.count=function(){return r.length},t.readOnly=function(){return d(c.utils.deepCopy(r))},t.addToAll=function(e){for(var i=0;i<r.length;i++)for(var n in e)r[i][n]=e[n];return t},t.addToLast=function(e){if(0!=r.length)for(var i in e)r[r.length-1][i]=e[i];return t},t.filter=function(e){var t;t=Array.isArray(e)?c.utils.deepCopy(e):c.utils.deepCopy([e]);for(var i=[],n=0;n<r.length;n++){for(var a=!1,s=0;s<t.length;s++){for(var o=!0,l=Object.keys(t[s]),p=0;p<l.length;p++)void 0!==r[n][l[p]]&&r[n][l[p]]==t[s][l[p]]||(o=!1);if(o){a=!0;break}}a&&i.push(r[n])}return d(i)},t.filterCustom=function(e){for(var t=[],i=0;i<r.length;i++)e(r[i])&&t.push(r[i]);return d(t)},t.select=function(e){for(var t=[],i=0;i<r.length;i++)void 0!==r[i][e]&&t.push(r[i][e]);var n=function e(){var t={values:[],sum:function(){for(var e=0,r=0;r<t.values.length;r++)e+=t.values[r];return e},mean:function(){return t.sum()/t.count()},median:function(){if(0!=t.values.length){var e=t.values.slice(0).sort((function(e,t){return e-t})),r=Math.floor(e.length/2);return e.length%2==0?(e[r]+e[r-1])/2:e[r]}},min:function(){return Math.min.apply(null,t.values)},max:function(){return Math.max.apply(null,t.values)},count:function(){return t.values.length},variance:function(){for(var e=t.mean(),r=0,i=0;i<t.values.length;i++)r+=Math.pow(t.values[i]-e,2);return r/(t.values.length-1)},sd:function(){var e=t.variance();return e=Math.sqrt(e)},frequencies:function(){for(var e={},r=0;r<t.values.length;r++){var i=t.values[r];void 0===e[i]?e[i]=1:e[i]++}return e},all:function(e){for(var r=0;r<t.values.length;r++)if(!e(t.values[r]))return!1;return!0},subset:function(r){for(var i=[],n=0;n<t.values.length;n++)r(t.values[n])&&i.push(t.values[n]);var a=e();return a.values=i,a}};return t}();return n.values=t,n},t.ignore=function(e){Array.isArray(e)||(e=[e]);for(var t=c.utils.deepCopy(r),i=0;i<t.length;i++)for(var n in e)delete t[i][e[n]];return d(t)},t.uniqueNames=function(){for(var e=[],t=0;t<r.length;t++)for(var i=Object.keys(r[t]),n=0;n<i.length;n++)e.includes(i[n])||e.push(i[n]);return e},t.csv=function(){return function(e){for(var t="object"!=typeof e?JSON.parse(e):e,r="",i="",n=[],a=0,s=0;s<t.length;s++)for(var o in t[s]){var l=o+"";l='"'+l.replace(/"/g,'""')+'",',n.includes(o)||(n[a]=o,r+=l,a++)}for(i+=(r=r.slice(0,-1))+"\r\n",a=0;a<t.length;a++){for(r="",s=0;s<n.length;s++){r+='"'+((void 0===t[a][n[s]]?"":t[a][n[s]])+"").replace(/"/g,'""')+'",'}i+=(r=r.slice(0,-1))+"\r\n"}return i}(r)},t.json=function(e){return e?JSON.stringify(r,null,"\t"):JSON.stringify(r)},t.localSave=function(e,r){var i;if("JSON"==e||"json"==e)i=t.json();else{if("CSV"!=e&&"csv"!=e)throw new Error('Invalid format specified for localSave. Must be "JSON" or "CSV".');i=t.csv()}!function(e,t){var r=new Blob([e],{type:"text/plain"});e="";e=(void 0!==window.webkitURL?window.webkitURL:window.URL).createObjectURL(r),c.getDisplayElement().insertAdjacentHTML("beforeend",'<a id="jspsych-download-as-text-link" style="display:none;" download="'+t+'" href="'+e+'">click to download</a>'),document.getElementById("jspsych-download-as-text-link").click()}(i,r)},t}function y(){var e=window.location.search.substr(1).split("&");if(""==e)return{};for(var t={},r=0;r<e.length;++r){var i=e[r].split("=",2);1==i.length?t[i[0]]="":t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}return t}function m(e){for(var t,r,i=e.slice(0),n=i.length;n;)r=Math.floor(Math.random()*n--),t=i[n],i[n]=i[r],i[r]=t;return i}c.plugins=((l={parameterType:{BOOL:0,STRING:1,INT:2,FLOAT:3,FUNCTION:4,KEYCODE:5,SELECT:6,HTML_STRING:7,IMAGE:8,AUDIO:9,VIDEO:10,OBJECT:11,COMPLEX:12}}).universalPluginParameters={data:{type:l.parameterType.OBJECT,pretty_name:"Data",default:{},description:"Data to add to this trial (key-value pairs)"},on_start:{type:l.parameterType.FUNCTION,pretty_name:"On start",default:function(){},description:"Function to execute when trial begins"},on_finish:{type:l.parameterType.FUNCTION,pretty_name:"On finish",default:function(){},description:"Function to execute when trial is finished"},on_load:{type:l.parameterType.FUNCTION,pretty_name:"On load",default:function(){},description:"Function to execute after the trial has loaded"},post_trial_gap:{type:l.parameterType.INT,pretty_name:"Post trial gap",default:null,description:"Length of gap between the end of this trial and the start of the next trial"}},l),c.data=(n={},a=d(),s=d(),o={},n.reset=function(){a=d(),s=d()},n.get=function(){return a},n.getInteractionData=function(){return s},n.write=function(e){var t=c.progress(),r=c.currentTrial();t={trial_type:r.type,trial_index:t.current_trial_global,time_elapsed:c.totalTime(),internal_node_id:c.currentTimelineNodeID()},t=Object.assign({},e,r.data,t,o);a.push(t)},n.addProperties=function(e){a.addToAll(e),o=Object.assign({},o,e)},n.addDataToLastTrial=function(e){a.addToLast(e)},n.getDataByTimelineNode=function(e){return a.filterCustom((function(t){return t.internal_node_id.slice(0,e.length)===e}))},n.getLastTrialData=function(){return a.top()},n.getLastTimelineData=function(){var e=n.getLastTrialData().select("internal_node_id").values[0];return void 0===e?d():(e=e.substr(0,e.lastIndexOf("-")),n.getDataByTimelineNode(e))},n.displayData=function(e){"json"!=(e=void 0===e?"json":e.toLowerCase())&&"csv"!=e&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json"),e="json"==e?a.json(!0):a.csv(),c.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=e},n.urlVariables=function(){return i=void 0===i?y():i},n.getURLVariable=function(e){return(i=void 0===i?y():i)[e]},n.createInteractionListeners=function(){function e(){var e={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:c.progress().current_trial_global,time:c.totalTime()};s.push(e),c.initSettings().on_interaction_data_update(e)}window.addEventListener("blur",(function(){var e={event:"blur",trial:c.progress().current_trial_global,time:c.totalTime()};s.push(e),c.initSettings().on_interaction_data_update(e)})),window.addEventListener("focus",(function(){var e={event:"focus",trial:c.progress().current_trial_global,time:c.totalTime()};s.push(e),c.initSettings().on_interaction_data_update(e)})),document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)},n._customInsert=function(e){a=d(e)},n._fullreset=function(){n.reset(),o={}},n),c.turk=((l={}).turkInfo=function(){function e(e,t){return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))?"":e[1]}var t={},r=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(i){t[i]=unescape(e(r,i))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,turk_info=t},l.submitToTurk=function(e){var t=(r=c.turk.turkInfo()).assignmentId,r=r.turkSubmitTo;if(t&&r){var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push(i+"="+escape(e[i]));n.push("assignmentId="+t),r=r+"/mturk/externalSubmit?"+n.join("&"),window.location.href=r}},l),c.randomization=((p={}).repeat=function(e,t,r){var i=Array.isArray(e),n=Array.isArray(t);if(i)if(n){if(e.length!=t.length)if(console.warning("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){for(a=[],s=0;s<e.length;s++)a.push(t);t=a}else t=repetions.slice(0,e.length)}else{for(var a=[],s=0;s<e.length;s++)a.push(t);t=a}else n?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);var o=[];for(s=0;s<e.length;s++)for(var l=0;l<t[s];l++)null==e[s]||"object"!=typeof e[s]?o.push(e[s]):o.push(Object.assign({},e[s]));return n=m(o),r?function(e){for(var t={},r=0;r<e.length;r++)for(var i=Object.keys(e[r]),n=0;n<i.length;n++)void 0===t[i[n]]&&(t[i[n]]=[]),t[i[n]].push(e[r][i[n]]);return t}(n):n},p.shuffle=function(e){return Array.isArray(e)||console.error("Argument to jsPsych.randomization.shuffle() must be an array."),m(e)},p.shuffleNoRepeats=function(e,t){Array.isArray(e)||console.error("First argument to jsPsych.randomization.shuffleNoRepeats() must be an array."),void 0===t&&"function"==typeof t||console.error("Second argument to jsPsych.randomization.shuffleNoRepeats() must be a function."),void 0===t&&(t=function(e,t){return e===t});for(var r=m(e),i=0;i<r.length-1;i++)if(t(r[i],r[i+1])){for(var n=Math.floor(Math.random()*(r.length-2))+1;t(r[i+1],r[n])||t(r[i+1],r[n+1])||t(r[i+1],r[n-1]);)n=Math.floor(Math.random()*(r.length-2))+1;var a=r[n];r[n]=r[i+1],r[i+1]=a}return r},p.sampleWithoutReplacement=function(e,t){return Array.isArray(e)||console.error("First argument to jsPsych.randomization.sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),c.randomization.shuffle(e).slice(0,t)},p.sampleWithReplacement=function(e,t,r){Array.isArray(e)||console.error("First argument to jsPsych.randomization.sampleWithReplacement() must be an array");var i=[];if(void 0!==r){r.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");for(var n=0,a=0;a<r.length;a++)n+=r[a];for(a=0;a<r.length;a++)i.push(r[a]/n)}else for(a=0;a<e.length;a++)i.push(1/e.length);var s=[i[0]];for(a=1;a<i.length;a++)s.push(i[a]+s[a-1]);var o=[];for(a=0;a<t;a++){for(var l=Math.random(),p=0;l>s[p];)p++;o.push(e[p])}return o},p.factorial=function(e,t,r){for(var i=Object.keys(e),n=[],a=0;a<e[i[0]].length;a++)n.push({}),n[a][i[0]]=e[i[0]][a];for(a=1;a<i.length;a++){for(var s=e[i[a]],o=n.length,l=0;l<o;l++)for(var u=n[l],c=0;c<s.length;c++){var d={};d[i[a]]=s[c],n.push(Object.assign({},u,d))}n.splice(0,o)}return p.repeat(n,t=void 0===t?1:t,r)},p.randomID=function(e){for(var t="",r=(e=void 0===e?32:e,"0123456789abcdefghjklmnopqrstuvwxyz"),i=0;i<e;i++)t+=r[Math.floor(Math.random()*r.length)];return t},p),c.pluginAPI=function(){function e(e){for(var t=0;t<i.length;t++)i[t].fn(e);n[e.keyCode]=!0}function t(e){n[e.keyCode]=!1}var r={},i=[],n={};r.reset=function(r){i=[],n={},r.removeEventListener("keydown",e),r.removeEventListener("keyup",t)},r.createKeyboardEventListeners=function(r){r.addEventListener("keydown",e),r.addEventListener("keyup",t)},r.getKeyboardResponse=function(e){var t;e.rt_method=void 0===e.rt_method?"performance":e.rt_method,"performance"!=e.rt_method&&"audio"!=e.rt_method&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),e.rt_method="performance"),"performance"==e.rt_method?t=performance.now():"audio"==e.rt_method&&(t=e.audio_context_start_time);var a={type:"keydown",fn:function(s){var o;"performance"==e.rt_method?o=performance.now():"audio"==e.rt_method&&(o=e.audio_context.currentTime);var l=!1;if(void 0===e.valid_responses||e.valid_responses==c.ALL_KEYS)l=!0;else if(e.valid_responses!=c.NO_KEYS)for(var p=0;p<e.valid_responses.length;p++)if("string"==typeof e.valid_responses[p]){var u=c.pluginAPI.convertKeyCharacterToKeyCode(e.valid_responses[p]);if(void 0===u)throw new Error("Invalid key string specified for getKeyboardResponse");s.keyCode==u&&(l=!0)}else s.keyCode==e.valid_responses[p]&&(l=!0);void 0!==e.allow_held_key&&e.allow_held_key||!l||void 0!==n[s.keyCode]&&1==n[s.keyCode]&&(l=!1),l&&(s.preventDefault(),e.callback_function({key:s.keyCode,rt:o-t}),i.includes(a)&&(e.persist||r.cancelKeyboardResponse(a)))}};return i.push(a),a},r.cancelKeyboardResponse=function(e){i.includes(e)&&i.splice(i.indexOf(e),1)},r.cancelAllKeyboardResponses=function(){i=[]},r.convertKeyCharacterToKeyCode=function(e){var t;return e=e.toLowerCase(),void 0!==a[e]?a[e]:t},r.convertKeyCodeToKeyCharacter=function(e){for(var t in Object.keys(a))if(a[Object.keys(a)[t]]==e)return Object.keys(a)[t]},r.compareKeys=function(e,t){return(e="string"==typeof e?r.convertKeyCharacterToKeyCode(e):e)==("string"==typeof t?r.convertKeyCharacterToKeyCode(t):t)};var a={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,spacebar:32," ":32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"0numpad":96,"1numpad":97,"2numpad":98,"3numpad":99,"4numpad":100,"5numpad":101,"6numpad":102,"7numpad":103,"8numpad":104,"9numpad":105,multiply:106,plus:107,minus:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221},s=[];r.setTimeout=function(e,t){return t=setTimeout(e,t),s.push(t),t},r.clearAllTimeouts=function(){for(var e=0;e<s.length;e++)clearTimeout(s[e]);s=[]};var o={};r.getVideoBuffer=function(e){return o[e]};var l=null,p=[];r.initAudio=function(){l=!0===c.initSettings().use_webaudio?c.webaudio_context:null},r.audioContext=function(){return null!==l&&"running"!==l.state&&l.resume(),l},r.getAudioBuffer=function(e){if("tmp"!==p[e])return p[e];console.error("Audio file failed to load in the time allotted.")};var u=[],d={};return r.preloadAudioFiles=function(e,t,i){e=c.utils.flatten(e),e=c.utils.unique(e);var n=0,a=void 0===i?function(){}:i,s=void 0===t?function(){}:t;if(0!=e.length)for(var o=0;o<e.length;o++){var u=e[o];void 0!==p[u]?(a(++n),n==e.length&&s()):(p[u]="tmp",(null!==r.audioContext()?function t(r,i){i=i||1;var o=new XMLHttpRequest;o.open("GET",r,!0),o.responseType="arraybuffer",o.onload=function(){l.decodeAudioData(o.response,(function(t){p[r]=t,a(++n),n==e.length&&s()}),(function(){console.error("Error loading audio file: "+u)}))},o.onerror=function(){i<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,i+1)}),200):c.loadFail()},o.send()}:function t(r,i){i=i||1;var o=new Audio;o.addEventListener("canplaythrough",(function(){p[r]=o,a(++n),n==e.length&&s()})),o.addEventListener("onerror",(function(){i<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,i+1)}),200):c.loadFail()})),o.addEventListener("onstalled",(function(){i<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,i+1)}),200):c.loadFail()})),o.addEventListener("onabort",(function(){i<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,i+1)}),200):c.loadFail()})),o.src=r})(u))}else s()},r.preloadImages=function(e,t,r){e=c.utils.flatten(e),e=c.utils.unique(e);var i=0,n=void 0===r?function(){}:r,a=void 0===t?function(){}:t;if(0!==e.length)for(var s=0;s<e.length;s++)!function t(r,s){s=s||1;var o=new Image;o.onload=function(){n(++i),i===e.length&&a()},o.onerror=function(){s<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,s+1)}),200):c.loadFail()},o.src=r,d[r]=o}(e[s]);else a()},r.preloadVideo=function(e,t,r){e=c.utils.flatten(e),e=c.utils.unique(e);var i=0,n=r||function(){},a=t||function(){};if(0!==e.length)for(var s=0;s<e.length;s++)!function t(r,s){s=s||1;var l=new XMLHttpRequest;l.open("GET",r,!0),l.responseType="blob",l.onload=function(){var t;200!==this.status&&0!==this.status||(t=this.response,o[r]=URL.createObjectURL(t),n(++i),i===e.length&&a())},l.onerror=function(){s<c.initSettings().max_preload_attempts?setTimeout((function(){t(r,s+1)}),200):c.loadFail()},l.send()}(e[s]);else a()},r.registerPreload=function(e,t,r,i){-1===["audio","image","video"].indexOf(r)&&console.error("Invalid media_type parameter for jsPsych.pluginAPI.registerPreload. Please check the plugin file."),u.push({plugin:e,parameter:t,media_type:r,conditional_function:i})},r.autoPreload=function(e,t,i,n,a,s){i=i||[],n=n||[],a=a||[];for(var o=0;o<u.length;o++)for(var l=u[o].plugin,p=u[o].parameter,d=u[o].media_type,y=u[o].conditional_function,m=e.trialsOfType(l),f=0;f<m.length;f++)m[f][p]&&"function"!=typeof m[f][p]&&(y&&!y(m[f])||("image"===d?i=i.concat(c.utils.flatten([m[f][p]])):"audio"===d?n=n.concat(c.utils.flatten([m[f][p]])):"video"===d&&(a=a.concat(c.utils.flatten([m[f][p]])))));i=c.utils.unique(c.utils.flatten(i)),n=c.utils.unique(c.utils.flatten(n)),a=c.utils.unique(c.utils.flatten(a)),i=i.filter((function(e){return 0!=e&&null!=e})),n=n.filter((function(e){return 0!=e&&null!=e})),a=a.filter((function(e){return 0!=e&&null!=e}));var h=i.length+n.length+a.length,g=0;function _(){var e;g++,s&&(e=g/h*100,c.getDisplayElement().querySelector("#jspsych-loading-progress-bar").style.width=e+"%")}s&&(c.getDisplayElement().innerHTML="<div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd;'><div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div></div>"),r.preloadImages(i,(function(){r.preloadAudioFiles(n,(function(){r.preloadVideo(a,(function(){t()}),_)}),_)}),_)},r.hardware=function(e){e=new CustomEvent("jspsych",{detail:e}),document.dispatchEvent(e)},r.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(e){r.hardwareConnected=!0})),r}(),c.utils=u={flatten:function(e,t){t=void 0===t?[]:t;for(var r=0;r<e.length;r++)Array.isArray(e[r])?u.flatten(e[r],t):t.push(e[r]);return t},unique:function(e){for(var t=[],r=0;r<e.length;r++)e.indexOf(e[r])==r&&t.push(e[r]);return t},deepCopy:function(e){if(!e)return e;if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(u.deepCopy(e[r]));return t}if("object"!=typeof e)return e;for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=u.deepCopy(e[i]));return t}},"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),r=parseInt(t.length,10)||0;if(0===r)return!1;var i,n,a=parseInt(arguments[1],10)||0;for(0<=a?i=a:(i=r+a)<0&&(i=0);i<r;){if(e===(n=t[i])||e!=e&&n!=n)return!0;i++}return!1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),void 0===(l="function"==typeof(l=c)?l.apply(t,[]):l)||(e.exports=l)},function(e,t,r){"use strict";e.exports=r(34)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("animation","stimuli","image"),r.info={name:"animation",description:"",parameters:{stimuli:{type:i.plugins.parameterType.STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"The images to be displayed."},frame_time:{type:i.plugins.parameterType.INT,pretty_name:"Frame time",default:250,description:"Duration to display each image."},frame_isi:{type:i.plugins.parameterType.INT,pretty_name:"Frame gap",default:0,description:"Length of gap to be shown between each image."},sequence_reps:{type:i.plugins.parameterType.INT,pretty_name:"Sequence repetitions",default:1,description:"Number of times to show entire sequence."},choices:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Choices",default:i.ALL_KEYS,array:!0,description:"Keys subject uses to respond to stimuli."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below stimulus."}}},r.trial=function(e,t){var r=t.frame_time+t.frame_isi,n=-1,a=0,s=performance.now(),o=[],l=[],p="",u=setInterval((function(){var r=!0;e.innerHTML="",++n==t.stimuli.length&&(n=0,++a>=t.sequence_reps&&(function(){i.pluginAPI.cancelKeyboardResponse(c);var e={animation_sequence:JSON.stringify(o),responses:JSON.stringify(l)};i.finishTrial(e)}(),clearInterval(u),r=!1)),r&&(e.innerHTML='<img src="'+t.stimuli[n]+'" id="jspsych-animation-image"></img>',p=t.stimuli[n],o.push({stimulus:t.stimuli[n],time:performance.now()-s}),null!==t.prompt&&(e.innerHTML+=t.prompt),0<t.frame_isi&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-animation-image").style.visibility="hidden",p="blank",o.push({stimulus:"blank",time:performance.now()-s})}),t.frame_time))}),r),c=i.pluginAPI.getKeyboardResponse({callback_function:function(t){l.push({key_press:t.key,rt:t.rt,stimulus:p}),e.querySelector("#jspsych-animation-image").className+=" responded"},valid_responses:t.choices,rt_method:"performance",persist:!0,allow_held_key:!1})},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("audio-button-response","stimulus","audio"),r.info={name:"audio-button-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The audio to be played."},choices:{type:i.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The button labels."},button_html:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"Custom button. Can make your own style."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},margin_vertical:{type:i.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"Vertical margin of button."},margin_horizontal:{type:i.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"Horizontal margin of button."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:i.plugins.parameterType.BOOL,pretty_name:"Trial ends after audio",default:!1,description:"If true, then the trial will end as soon as the audio file finishes playing."}}},r.trial=function(e,t){var r,n,a=i.pluginAPI.audioContext();null!==a?((r=a.createBufferSource()).buffer=i.pluginAPI.getAudioBuffer(t.stimulus),r.connect(a.destination)):(n=i.pluginAPI.getAudioBuffer(t.stimulus)).currentTime=0,t.trial_ends_after_audio&&(null!==a?r.onended=function(){c()}:n.addEventListener("ended",c));var s=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?s=t.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var o=0;o<t.choices.length;o++)s.push(t.button_html);var l='<div id="jspsych-audio-button-response-btngroup">';for(o=0;o<t.choices.length;o++){var p=s[o].replace(/%choice%/g,t.choices[o]);l+='<div class="jspsych-audio-button-response-button" style="cursor: pointer; display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-audio-button-response-button-'+o+'" data-choice="'+o+'">'+p+"</div>"}for(l+="</div>",null!==t.prompt&&(l+=t.prompt),e.innerHTML=l,o=0;o<t.choices.length;o++)e.querySelector("#jspsych-audio-button-response-button-"+o).addEventListener("click",(function(e){!function(e){var r=performance.now()-d;u.button=e,u.rt=r;for(var i=document.querySelectorAll(".jspsych-audio-button-response-button button"),n=0;n<i.length;n++)i[n].setAttribute("disabled","disabled");t.response_ends_trial&&c()}(e.currentTarget.getAttribute("data-choice"))}));var u={rt:null,button:null};function c(){null!==a?(r.stop(),r.onended=function(){}):(n.pause(),n.removeEventListener("ended",c)),i.pluginAPI.clearAllTimeouts();var s={rt:u.rt,stimulus:t.stimulus,button_pressed:u.button};e.innerHTML="",i.finishTrial(s)}var d=performance.now();null!==a?(startTime=a.currentTime,r.start(startTime)):n.play(),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){c()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("audio-keyboard-response","stimulus","audio"),r.info={name:"audio-keyboard-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The audio to be played."},choices:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Choices",array:!0,default:i.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial will end when user makes a response."},trial_ends_after_audio:{type:i.plugins.parameterType.BOOL,pretty_name:"Trial ends after audio",default:!1,description:"If true, then the trial will end as soon as the audio file finishes playing."}}},r.trial=function(e,t){var r,n,a=i.pluginAPI.audioContext();null!==a?((r=a.createBufferSource()).buffer=i.pluginAPI.getAudioBuffer(t.stimulus),r.connect(a.destination)):(n=i.pluginAPI.getAudioBuffer(t.stimulus)).currentTime=0,t.trial_ends_after_audio&&(null!==a?r.onended=function(){o()}:n.addEventListener("ended",o)),null!==t.prompt&&(e.innerHTML=t.prompt);var s={rt:null,key:null};function o(){i.pluginAPI.clearAllTimeouts(),null!==a?(r.stop(),r.onended=function(){}):(n.pause(),n.removeEventListener("ended",o)),i.pluginAPI.cancelAllKeyboardResponses(),null!==a&&null!==s.rt&&(s.rt=Math.round(1e3*s.rt));var l={rt:s.rt,stimulus:t.stimulus,key_press:s.key};e.innerHTML="",i.finishTrial(l)}function l(e){null==s.key&&(s=e),t.response_ends_trial&&o()}null!==a?(startTime=a.currentTime,r.start(startTime)):n.play(),null!==a?i.pluginAPI.getKeyboardResponse({callback_function:l,valid_responses:t.choices,rt_method:"audio",persist:!1,allow_held_key:!1,audio_context:a,audio_context_start_time:startTime}):i.pluginAPI.getKeyboardResponse({callback_function:l,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){o()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("audio-slider-response","stimulus","audio"),r.info={name:"audio-slider-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.AUDIO,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},min:{type:i.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:i.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},start:{type:i.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:i.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:i.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:i.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."}}},r.trial=function(e,t){var r,n,a=i.pluginAPI.audioContext();null!==a?((r=a.createBufferSource()).buffer=i.pluginAPI.getAudioBuffer(t.stimulus),r.connect(a.destination)):(n=i.pluginAPI.getAudioBuffer(t.stimulus)).currentTime=0,t.trial_ends_after_audio&&(null!==a?r.onended=function(){u()}:n.addEventListener("ended",u));var s='<div id="jspsych-audio-slider-response-wrapper" style="margin: 100px 0px;">';s+='<div class="jspsych-audio-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',null!==t.slider_width&&(s+="width:"+t.slider_width+"px;"),s+='">',s+='<input type="range" value="'+t.start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" style="width: 100%;" id="jspsych-audio-slider-response-response"></input>',s+="<div>";for(var o=0;o<t.labels.length;o++){var l=100/(t.labels.length-1);s+='<div style="display: inline-block; position: absolute; left:'+(o*(100/(t.labels.length-1))-l/2)+"%; text-align: center; width: "+l+'%;">',s+='<span style="text-align: center; font-size: 80%;">'+t.labels[o]+"</span>",s+="</div>"}s+="</div>",s+="</div>",s+="</div>",null!==t.prompt&&(s+=t.prompt),s+='<button id="jspsych-audio-slider-response-next" class="jspsych-btn" '+(t.require_movement?"disabled":"")+">"+t.button_label+"</button>",e.innerHTML=s;var p={rt:null,response:null};function u(){i.pluginAPI.clearAllTimeouts(),null!==a?(r.stop(),r.onended=function(){}):(n.pause(),n.removeEventListener("ended",u));var s={rt:p.rt,stimulus:t.stimulus,response:p.response};e.innerHTML="",i.finishTrial(s)}t.require_movement&&e.querySelector("#jspsych-audio-slider-response-response").addEventListener("change",(function(){e.querySelector("#jspsych-audio-slider-response-next").disabled=!1})),e.querySelector("#jspsych-audio-slider-response-next").addEventListener("click",(function(){var r,i=(r=performance.now())-c;null!==a&&(r=a.currentTime,i=Math.round(1e3*(r-c))),p.rt=i,p.response=e.querySelector("#jspsych-audio-slider-response-response").value,t.response_ends_trial?u():e.querySelector("#jspsych-audio-slider-response-next").disabled=!0}));var c=performance.now();null!==a?(c=a.currentTime,r.start(c)):n.play(),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){u()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"call-function",description:"",parameters:{func:{type:i.plugins.parameterType.FUNCTION,pretty_name:"Function",default:void 0,description:"Function to call"},async:{type:i.plugins.parameterType.BOOL,pretty_name:"Asynchronous",default:!1,description:"Is the function call asynchronous?"}}},r.trial=function(e,t){var r;function n(){var e={value:r};i.finishTrial(e)}t.post_trial_gap=0,t.async?t.func((function(e){r=e,n()})):(r=t.func(),n())},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"categorize-html",description:"",parameters:{stimulus:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML content to be displayed."},key_answer:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key answer",default:void 0,description:"The key to indicate the correct response."},choices:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Choices",default:i.ALL_KEYS,array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:i.plugins.parameterType.STRING,pretty_name:"Text answer",default:null,description:"Label that is associated with the correct answer."},correct_text:{type:i.plugins.parameterType.STRING,pretty_name:"Correct text",default:"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:i.plugins.parameterType.STRING,pretty_name:"Incorrect text",default:"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:i.plugins.parameterType.BOOL,pretty_name:"Force correct button press",default:!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},show_stim_with_feedback:{type:i.plugins.parameterType.BOOL,default:!0,no_function:!1,description:""},show_feedback_on_timeout:{type:i.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout",default:!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:i.plugins.parameterType.STRING,pretty_name:"Timeout message",default:"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial"},feedback_duration:{type:i.plugins.parameterType.INT,pretty_name:"Feedback duration",default:2e3,description:"How long to show feedback."}}},r.trial=function(e,t){function r(r){i.pluginAPI.clearAllTimeouts(),i.pluginAPI.cancelAllKeyboardResponses();var s=!1;t.key_answer==r.key&&(s=!0),n={rt:r.rt,correct:s,stimulus:t.stimulus,key_press:r.key},e.innerHTML="",function(r,n){var s;n&&!t.show_feedback_on_timeout?e.innerHTML+=t.timeout_message:(t.show_stim_with_feedback&&(e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>"),"",s=(r?t.correct_text:t.incorrect_text).replace("%ANS%",t.text_answer),e.innerHTML+=s),t.force_correct_button_press&&!1===r&&(n&&t.show_feedback_on_timeout||!n)?i.pluginAPI.getKeyboardResponse({callback_function:function(e){a()},valid_responses:[t.key_answer],rt_method:"performance",persist:!1,allow_held_key:!1}):i.pluginAPI.setTimeout((function(){a()}),t.feedback_duration)}(s,null==r.rt)}e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>",null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.prompt&&(e.innerHTML+=t.prompt);var n={};function a(){e.innerHTML="",i.finishTrial(n)}i.pluginAPI.getKeyboardResponse({callback_function:r,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){r({key:null,rt:null})}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"external-html",description:"",parameters:{url:{type:i.plugins.parameterType.STRING,pretty_name:"URL",default:void 0,description:"The url of the external html page"},cont_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Continue key",default:null,description:"The key to continue to the next page."},cont_btn:{type:i.plugins.parameterType.STRING,pretty_name:"Continue button",default:null,description:"The button to continue to the next page."},check_fn:{type:i.plugins.parameterType.FUNCTION,pretty_name:"Check function",default:function(){return!0},description:""},force_refresh:{type:i.plugins.parameterType.BOOL,pretty_name:"Force refresh",default:!1,description:"Refresh page."},execute_script:{type:i.plugins.parameterType.BOOL,pretty_name:"Execute scripts",default:!1,description:"If true, JS scripts on the external html file will be executed."}}},r.trial=function(e,t){var r,n,a,s=t.url;t.force_refresh&&(s=t.url+"?t="+performance.now()),r=e,s=s,n=function(){function r(){var r;t.check_fn&&!t.check_fn(e)||(t.cont_key&&e.removeEventListener("keydown",n),r={rt:performance.now()-a,url:t.url},e.innerHTML="",i.finishTrial(r))}var n,a=performance.now();if(t.execute_script)for(const t of e.getElementsByTagName("script")){const e=document.createElement("script");e.text=t.text,t.parentNode.replaceChild(e,t)}t.cont_btn&&e.querySelector("#"+t.cont_btn).addEventListener("click",r),t.cont_key&&e.addEventListener("keydown",n=function(e){e.which==t.cont_key&&r()})},(a=new XMLHttpRequest).open("GET",s,!0),a.onload=function(){200!=a.status&&0!=a.status||(r.innerHTML=a.responseText,n())},a.send()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("free-sort","stimuli","image"),r.info={name:"free-sort",description:"",parameters:{stimuli:{type:i.plugins.parameterType.STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"Images to be displayed."},stim_height:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus height",default:100,description:"Height of images in pixels."},stim_width:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus width",default:100,description:"Width of images in pixels"},sort_area_height:{type:i.plugins.parameterType.INT,pretty_name:"Sort area height",default:800,description:"The height of the container that subjects can move the stimuli in."},sort_area_width:{type:i.plugins.parameterType.INT,pretty_name:"Sort area width",default:800,description:"The width of the container that subjects can move the stimuli in."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"It can be used to provide a reminder about the action the subject is supposed to take."},prompt_location:{type:i.plugins.parameterType.SELECT,pretty_name:"Prompt location",options:["above","below"],default:"above",description:'Indicates whether to show prompt "above" or "below" the sorting area.'},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to continue to the next trial."}}},r.trial=function(e,t){var r=performance.now(),n="";null!==t.prompt&&"above"==t.prompt_location&&(n+=t.prompt),n+='<div id="jspsych-free-sort-arena" class="jspsych-free-sort-arena" style="position: relative; width:'+t.sort_area_width+"px; height:"+t.sort_area_height+'px; border:2px solid #444;"></div>',null!==t.prompt&&"below"==t.prompt_location&&(n+=t.prompt),e.innerHTML=n;for(var a=[],s=0;s<t.stimuli.length;s++){var o=function(e,t){return{x:e=Math.floor(Math.random()*(e-1)),y:t=Math.floor(Math.random()*(t-1))}}(t.sort_area_width-t.stim_width,t.sort_area_height-t.stim_height);e.querySelector("#jspsych-free-sort-arena").innerHTML+='<img src="'+t.stimuli[s]+'" data-src="'+t.stimuli[s]+'" class="jspsych-free-sort-draggable" draggable="false" style="position: absolute; cursor: move; width:'+t.stim_width+"px; height:"+t.stim_height+"px; top:"+o.y+"px; left:"+o.x+'px;"></img>',a.push({src:t.stimuli[s],x:o.x,y:o.y})}e.innerHTML+='<button id="jspsych-free-sort-done-btn" class="jspsych-btn">'+t.button_label+"</button>";var l=1,p=[],u=e.querySelectorAll(".jspsych-free-sort-draggable");for(s=0;s<u.length;s++)u[s].addEventListener("mousedown",(function(e){var r=e.pageX-e.currentTarget.offsetLeft,i=e.pageY-e.currentTarget.offsetTop-window.scrollY,n=e.currentTarget;function a(e){n.style.top=Math.min(t.sort_area_height-t.stim_height,Math.max(0,e.clientY-i))+"px",n.style.left=Math.min(t.sort_area_width-t.stim_width,Math.max(0,e.clientX-r))+"px"}n.style.zIndex=++l,document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",a),p.push({src:n.dataset.src,x:n.offsetLeft,y:n.offsetTop}),document.removeEventListener("mouseup",e)}))}));e.querySelector("#jspsych-free-sort-done-btn").addEventListener("click",(function(){for(var t=performance.now()-r,n=[],s=e.querySelectorAll(".jspsych-free-sort-draggable"),o=0;o<s.length;o++)n.push({src:s[o].dataset.src,x:parseInt(s[o].style.left),y:parseInt(s[o].style.top)});t={init_locations:JSON.stringify(a),moves:JSON.stringify(p),final_locations:JSON.stringify(n),rt:t},e.innerHTML="",i.finishTrial(t)}))},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"fullscreen",description:"",parameters:{fullscreen_mode:{type:i.plugins.parameterType.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1,description:"If true, experiment will enter fullscreen mode. If false, the browser will exit fullscreen mode."},message:{type:i.plugins.parameterType.STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1,description:"HTML content to display above the button to enter fullscreen mode."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"The text that appears on the button to enter fullscreen."},delay_after:{type:i.plugins.parameterType.INT,pretty_name:"Delay after",default:1e3,array:!1,description:"The length of time to delay after entering fullscreen mode before ending the trial."}}},r.trial=function(e,t){var r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element;function n(){e.innerHTML="",i.pluginAPI.setTimeout((function(){i.finishTrial({success:!r})}),t.delay_after)}r?n():t.fullscreen_mode?(e.innerHTML=t.message+'<button id="jspsych-fullscreen-btn" class="jspsych-btn">'+t.button_label+"</button>",e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),n()}))):(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),n())},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"html-button-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:i.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:i.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:i.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:i.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},r.trial=function(e,t){var r='<div id="jspsych-html-button-response-stimulus">'+t.stimulus+"</div>",n=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?n=t.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var a=0;a<t.choices.length;a++)n.push(t.button_html);for(r+='<div id="jspsych-html-button-response-btngroup">',a=0;a<t.choices.length;a++){var s=n[a].replace(/%choice%/g,t.choices[a]);r+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-html-button-response-button-'+a+'" data-choice="'+a+'">'+s+"</div>"}r+="</div>",null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var o=performance.now();for(a=0;a<t.choices.length;a++)e.querySelector("#jspsych-html-button-response-button-"+a).addEventListener("click",(function(r){!function(r){var i=performance.now()-o;l.button=r,l.rt=i,e.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var n=document.querySelectorAll(".jspsych-html-button-response-button button"),a=0;a<n.length;a++)n[a].setAttribute("disabled","disabled");t.response_ends_trial&&p()}(r.currentTarget.getAttribute("data-choice"))}));var l={rt:null,button:null};function p(){i.pluginAPI.clearAllTimeouts();var r={rt:l.rt,stimulus:t.stimulus,button_pressed:l.button};e.innerHTML="",i.finishTrial(r)}null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){p()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:i.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:i.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},r.trial=function(e,t){var r='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";function n(){i.pluginAPI.clearAllTimeouts(),void 0!==a&&i.pluginAPI.cancelKeyboardResponse(a);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key};e.innerHTML="",i.finishTrial(r)}null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var a,s={rt:null,key:null};t.choices!=i.NO_KEYS&&(a=i.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==s.key&&(s=r),t.response_ends_trial&&n()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){n()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"html-slider-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed"},min:{type:i.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:i.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},start:{type:i.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:i.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:i.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:i.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."}}},r.trial=function(e,t){var r='<div id="jspsych-html-slider-response-wrapper" style="margin: 100px 0px;">';r+='<div id="jspsych-html-slider-response-stimulus">'+t.stimulus+"</div>",r+='<div class="jspsych-html-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',null!==t.slider_width&&(r+="width:"+t.slider_width+"px;"),r+='">',r+='<input type="range" value="'+t.start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" style="width: 100%;" id="jspsych-html-slider-response-response"></input>',r+="<div>";for(var n=0;n<t.labels.length;n++){var a=100/(t.labels.length-1);r+='<div style="display: inline-block; position: absolute; left:'+(n*(100/(t.labels.length-1))-a/2)+"%; text-align: center; width: "+a+'%;">',r+='<span style="text-align: center; font-size: 80%;">'+t.labels[n]+"</span>",r+="</div>"}r+="</div>",r+="</div>",r+="</div>",null!==t.prompt&&(r+=t.prompt),r+='<button id="jspsych-html-slider-response-next" class="jspsych-btn" '+(t.require_movement?"disabled":"")+">"+t.button_label+"</button>",e.innerHTML=r;var s={rt:null,response:null};function o(){i.pluginAPI.clearAllTimeouts();var r={rt:s.rt,response:s.response,stimulus:t.stimulus};e.innerHTML="",i.finishTrial(r)}t.require_movement&&e.querySelector("#jspsych-html-slider-response-response").addEventListener("change",(function(){e.querySelector("#jspsych-html-slider-response-next").disabled=!1})),e.querySelector("#jspsych-html-slider-response-next").addEventListener("click",(function(){var r=performance.now();s.rt=r-l,s.response=e.querySelector("#jspsych-html-slider-response-response").value,t.response_ends_trial?o():e.querySelector("#jspsych-html-slider-response-next").disabled=!0})),null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-html-slider-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){o()}),t.trial_duration);var l=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"iat-html",description:"",parameters:{stimulus:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML string to be displayed."},left_category_key:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Left category key",default:"E",description:"Key press that is associated with the left category label."},right_category_key:{type:i.plugins.parameterType.STRING,pretty_name:"Right category key",default:"I",description:"Key press that is associated with the right category label."},left_category_label:{type:i.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,default:["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:i.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,default:["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},key_to_move_forward:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key to move forward",array:!0,default:i.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:i.plugins.parameterType.BOOL,pretty_name:"Display feedback",default:!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"HTML when wrong",default:'<span style="color: red; font-size: 80px">X</span>',description:"The image to display when a user presses the wrong key."},bottom_instructions:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions",default:"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:i.plugins.parameterType.BOOL,pretty_name:"Force correct key press",default:!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus key association",options:["left","right"],default:"undefined",description:'Stimulus will be associated with eight "left" or "right".'},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."}}},r.trial=function(e,t){var r="";function n(){i.pluginAPI.clearAllTimeouts(),void 0!==a&&i.pluginAPI.cancelKeyboardResponse(a);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key,correct:s.correct};e.innerHTML="",i.finishTrial(r)}r+="<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><p id='jspsych-iat-stim'>"+t.stimulus+"</p></div>",r+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>",1==t.left_category_label.length?r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"<br>or<br>"+t.left_category_label[1].bold()+"</p></div>",r+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>",1==t.right_category_label.length?r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"<br>or<br>"+t.right_category_label[1].bold()+"</p></div>",r+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>",!0===t.display_feedback&&(r+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+t.html_when_wrong+"</p></div>"),r+="<div>"+t.bottom_instructions+"</div>",e.innerHTML=r+="</div>";var a,s={rt:null,key:null,correct:!1},o=i.pluginAPI.convertKeyCharacterToKeyCode(t.left_category_key),l=i.pluginAPI.convertKeyCharacterToKeyCode(t.right_category_key);t.left_category_key!=i.NO_KEYS&&t.right_category_key!=i.NO_KEYS&&(a=i.pluginAPI.getKeyboardResponse({callback_function:function(r){var a=document.getElementById("wrongImgContainer");e.querySelector("#jspsych-iat-stim").className+=" responded",null==s.key&&(s=r),"right"==t.stim_key_association?null!==s.rt&&s.key==l?(s.correct=!0,t.response_ends_trial&&n()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(a.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(a.style.visibility="visible",t.force_correct_key_press?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[t.right_category_key]}):i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[i.ALL_KEYS]}):t.response_ends_trial||t.display_feedback):"left"==t.stim_key_association&&(null!==s.rt&&s.key==o?(s.correct=!0,t.response_ends_trial&&n()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(a.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(a.style.visibility="visible",t.force_correct_key_press?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[t.left_category_key]}):i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[i.ALL_KEYS]}):t.response_ends_trial||t.display_feedback))},valid_responses:[t.left_category_key,t.right_category_key],rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.trial_duration&&1!=t.response_ends_trial&&i.pluginAPI.setTimeout((function(){n()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("iat-image","stimulus","image"),r.info={name:"iat-image",description:"",parameters:{stimulus:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},left_category_key:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Left category key",default:"E",description:"Key press that is associated with the left category label."},right_category_key:{type:i.plugins.parameterType.STRING,pretty_name:"Right category key",default:"I",description:"Key press that is associated with the right category label."},left_category_label:{type:i.plugins.parameterType.STRING,pretty_name:"Left category label",array:!0,default:["left"],description:"The label that is associated with the stimulus. Aligned to the left side of page."},right_category_label:{type:i.plugins.parameterType.STRING,pretty_name:"Right category label",array:!0,default:["right"],description:"The label that is associated with the stimulus. Aligned to the right side of the page."},key_to_move_forward:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key to move forward",array:!0,default:i.ALL_KEYS,description:"The keys that allow the user to advance to the next trial if their key press was incorrect."},display_feedback:{type:i.plugins.parameterType.BOOL,pretty_name:"Display feedback",default:!1,description:"If true, then html when wrong will be displayed when user makes an incorrect key press."},html_when_wrong:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"HTML when wrong",default:'<span style="color: red; font-size: 80px">X</span>',description:"The image to display when a user presses the wrong key."},bottom_instructions:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Bottom instructions",default:"<p>If you press the wrong key, a red X will appear. Press any key to continue.</p>",description:"Instructions shown at the bottom of the page."},force_correct_key_press:{type:i.plugins.parameterType.BOOL,pretty_name:"Force correct key press",default:!1,description:"If true, in order to advance to the next trial after a wrong key press the user will be forced to press the correct key."},stim_key_association:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus key association",options:["left","right"],default:"undefined",description:'Stimulus will be associated with eight "left" or "right".'},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."}}},r.trial=function(e,t){var r="";function n(){i.pluginAPI.clearAllTimeouts(),void 0!==a&&i.pluginAPI.cancelKeyboardResponse(a);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key,correct:s.correct};e.innerHTML="",i.finishTrial(r)}r+="<div style='position: absolute; height: 20%; width: 100%; margin-left: auto; margin-right: auto; top: 42%; left: 0; right: 0'><img src='"+t.stimulus+"' id='jspsych-iat-stim'></img></div>",r+="<div id='trial_left_align' style='position: absolute; top: 18%; left: 20%'>",1==t.left_category_label.length?r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.left_category_key+" for:<br> "+t.left_category_label[0].bold()+"<br>or<br>"+t.left_category_label[1].bold()+"</p></div>",r+="<div id='trial_right_align' style='position: absolute; top: 18%; right: 20%'>",1==t.right_category_label.length?r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"</p></div>":r+="<p>Press "+t.right_category_key+" for:<br> "+t.right_category_label[0].bold()+"<br>or<br>"+t.right_category_label[1].bold()+"</p></div>",r+="<div id='wrongImgID' style='position:relative; top: 300px; margin-left: auto; margin-right: auto; left: 0; right: 0'>",!0===t.display_feedback&&(r+="<div id='wrongImgContainer' style='visibility: hidden; position: absolute; top: -75px; margin-left: auto; margin-right: auto; left: 0; right: 0'><p>"+t.html_when_wrong+"</p></div>"),r+="<div>"+t.bottom_instructions+"</div>",e.innerHTML=r+="</div>";var a,s={rt:null,key:null,correct:!1},o=i.pluginAPI.convertKeyCharacterToKeyCode(t.left_category_key),l=i.pluginAPI.convertKeyCharacterToKeyCode(t.right_category_key);t.left_category_key!=i.NO_KEYS&&t.right_category_key!=i.NO_KEYS&&(a=i.pluginAPI.getKeyboardResponse({callback_function:function(r){var a=document.getElementById("wrongImgContainer");e.querySelector("#jspsych-iat-stim").className+=" responded",null==s.key&&(s=r),"right"==t.stim_key_association?null!==s.rt&&s.key==l?(s.correct=!0,t.response_ends_trial&&n()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(a.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(a.style.visibility="visible",t.force_correct_key_press?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[t.right_category_key]}):i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[i.ALL_KEYS]}):t.response_ends_trial||t.display_feedback):"left"==t.stim_key_association&&(null!==s.rt&&s.key==o?(s.correct=!0,t.response_ends_trial&&n()):(s.correct=!1,t.response_ends_trial||1!=t.display_feedback||(a.style.visibility="visible"),t.response_ends_trial&&1==t.display_feedback?(a.style.visibility="visible",t.force_correct_key_press?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[t.left_category_key]}):i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:t.key_to_move_forward})):t.response_ends_trial&&1!=t.display_feedback?i.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:[i.ALL_KEYS]}):t.response_ends_trial||t.display_feedback))},valid_responses:[t.left_category_key,t.right_category_key],rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.trial_duration&&1!=t.response_ends_trial&&i.pluginAPI.setTimeout((function(){n()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("image-keyboard-response","stimulus","image"),r.info={name:"image-keyboard-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:i.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:i.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:i.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},choices:{type:i.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:i.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial before it ends."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},r.trial=function(e,t){var r='<img src="'+t.stimulus+'" id="jspsych-image-keyboard-response-stimulus" style="';function n(){i.pluginAPI.clearAllTimeouts(),void 0!==a&&i.pluginAPI.cancelKeyboardResponse(a);var r={rt:s.rt,stimulus:t.stimulus,key_press:s.key};e.innerHTML="",i.finishTrial(r)}null!==t.stimulus_height&&(r+="height:"+t.stimulus_height+"px; ",null==t.stimulus_width&&t.maintain_aspect_ratio&&(r+="width: auto; ")),null!==t.stimulus_width&&(r+="width:"+t.stimulus_width+"px; ",null==t.stimulus_height&&t.maintain_aspect_ratio&&(r+="height: auto; ")),r+='"></img>',null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var a,s={rt:null,key:null};t.choices!=i.NO_KEYS&&(a=i.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-image-keyboard-response-stimulus").className+=" responded",null==s.key&&(s=r),t.response_ends_trial&&n()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){n()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("image-slider-response","stimulus","image"),r.info={name:"image-slider-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:i.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:i.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:i.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},min:{type:i.plugins.parameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:i.plugins.parameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},start:{type:i.plugins.parameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:i.plugins.parameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"},labels:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the slider."},slider_width:{type:i.plugins.parameterType.INT,pretty_name:"Slider width",default:null,description:"Width of the slider in pixels."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1,description:"Label of the button to advance."},require_movement:{type:i.plugins.parameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the slider."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when user makes a response."}}},r.trial=function(e,t){var r='<div id="jspsych-image-slider-response-wrapper" style="margin: 100px 0px;">';r+='<div id="jspsych-image-slider-response-stimulus">',r+='<img src="'+t.stimulus+'" style="',null!==t.stimulus_height&&(r+="height:"+t.stimulus_height+"px; ",null==t.stimulus_width&&t.maintain_aspect_ratio&&(r+="width: auto; ")),null!==t.stimulus_width&&(r+="width:"+t.stimulus_width+"px; ",null==t.stimulus_height&&t.maintain_aspect_ratio&&(r+="height: auto; ")),r+='"></img>',r+="</div>",r+='<div class="jspsych-image-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',null!==t.slider_width&&(r+="width:"+t.slider_width+"px;"),r+='">',r+='<input type="range" value="'+t.start+'" min="'+t.min+'" max="'+t.max+'" step="'+t.step+'" style="width: 100%;" id="jspsych-image-slider-response-response"></input>',r+="<div>";for(var n=0;n<t.labels.length;n++){var a=100/(t.labels.length-1);r+='<div style="display: inline-block; position: absolute; left:'+(n*(100/(t.labels.length-1))-a/2)+"%; text-align: center; width: "+a+'%;">',r+='<span style="text-align: center; font-size: 80%;">'+t.labels[n]+"</span>",r+="</div>"}r+="</div>",r+="</div>",r+="</div>",null!==t.prompt&&(r+=t.prompt),r+='<button id="jspsych-image-slider-response-next" class="jspsych-btn" '+(t.require_movement?"disabled":"")+">"+t.button_label+"</button>",e.innerHTML=r;var s={rt:null,response:null};function o(){i.pluginAPI.clearAllTimeouts();var t={rt:s.rt,response:s.response};e.innerHTML="",i.finishTrial(t)}t.require_movement&&e.querySelector("#jspsych-image-slider-response-response").addEventListener("change",(function(){e.querySelector("#jspsych-image-slider-response-next").disabled=!1})),e.querySelector("#jspsych-image-slider-response-next").addEventListener("click",(function(){var r=performance.now();s.rt=r-l,s.response=e.querySelector("#jspsych-image-slider-response-response").value,t.response_ends_trial?o():e.querySelector("#jspsych-image-slider-response-next").disabled=!0})),null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-slider-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){o()}),t.trial_duration);var l=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("image-button-response","stimulus","image"),r.info={name:"image-button-response",description:"",parameters:{stimulus:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimulus",default:void 0,description:"The image to be displayed"},stimulus_height:{type:i.plugins.parameterType.INT,pretty_name:"Image height",default:null,description:"Set the image height in pixels"},stimulus_width:{type:i.plugins.parameterType.INT,pretty_name:"Image width",default:null,description:"Set the image width in pixels"},maintain_aspect_ratio:{type:i.plugins.parameterType.BOOL,pretty_name:"Maintain aspect ratio",default:!0,description:"Maintain the aspect ratio after setting width or height"},choices:{type:i.plugins.parameterType.STRING,pretty_name:"Choices",default:void 0,array:!0,description:"The labels for the buttons."},button_html:{type:i.plugins.parameterType.STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed under the button."},stimulus_duration:{type:i.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide the stimulus."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},margin_vertical:{type:i.plugins.parameterType.STRING,pretty_name:"Margin vertical",default:"0px",description:"The vertical margin of the button."},margin_horizontal:{type:i.plugins.parameterType.STRING,pretty_name:"Margin horizontal",default:"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, then trial will end when user responds."}}},r.trial=function(e,t){var r='<img src="'+t.stimulus+'" id="jspsych-image-button-response-stimulus" style="';null!==t.stimulus_height&&(r+="height:"+t.stimulus_height+"px; ",null==t.stimulus_width&&t.maintain_aspect_ratio&&(r+="width: auto; ")),null!==t.stimulus_width&&(r+="width:"+t.stimulus_width+"px; ",null==t.stimulus_height&&t.maintain_aspect_ratio&&(r+="height: auto; ")),r+='"></img>';var n=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?n=t.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var a=0;a<t.choices.length;a++)n.push(t.button_html);for(r+='<div id="jspsych-image-button-response-btngroup">',a=0;a<t.choices.length;a++){var s=n[a].replace(/%choice%/g,t.choices[a]);r+='<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-image-button-response-button-'+a+'" data-choice="'+a+'">'+s+"</div>"}r+="</div>",null!==t.prompt&&(r+=t.prompt),e.innerHTML=r;var o=performance.now();for(a=0;a<t.choices.length;a++)e.querySelector("#jspsych-image-button-response-button-"+a).addEventListener("click",(function(r){!function(r){var i=performance.now()-o;l.button=r,l.rt=i,e.querySelector("#jspsych-image-button-response-stimulus").className+=" responded";for(var n=document.querySelectorAll(".jspsych-image-button-response-button button"),a=0;a<n.length;a++)n[a].setAttribute("disabled","disabled");t.response_ends_trial&&p()}(r.currentTarget.getAttribute("data-choice"))}));var l={rt:null,button:null};function p(){i.pluginAPI.clearAllTimeouts();var r={rt:l.rt,stimulus:t.stimulus,button_pressed:l.button};e.innerHTML="",i.finishTrial(r)}null!==t.stimulus_duration&&i.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-image-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){p()}),t.trial_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"instructions",description:"",parameters:{pages:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0,description:"Each element of the array is the content for a single page."},key_forward:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key forward",default:"rightarrow",description:"The key the subject can press in order to advance to the next page."},key_backward:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key backward",default:"leftarrow",description:"The key that the subject can press to return to the previous page."},allow_backward:{type:i.plugins.parameterType.BOOL,pretty_name:"Allow backward",default:!0,description:"If true, the subject can return to the previous page of the instructions."},allow_keys:{type:i.plugins.parameterType.BOOL,pretty_name:"Allow keys",default:!0,description:"If true, the subject can use keyboard keys to navigate the pages."},show_clickable_nav:{type:i.plugins.parameterType.BOOL,pretty_name:"Show clickable nav",default:!1,description:'If true, then a "Previous" and "Next" button will be displayed beneath the instructions.'},show_page_number:{type:i.plugins.parameterType.BOOL,pretty_name:"Show page number",default:!1,description:"If true, and clickable navigation is enabled, then Page x/y will be shown between the nav buttons."},button_label_previous:{type:i.plugins.parameterType.STRING,pretty_name:"Button label previous",default:"Previous",description:"The text that appears on the button to go backwards."},button_label_next:{type:i.plugins.parameterType.STRING,pretty_name:"Button label next",default:"Next",description:"The text that appears on the button to go forwards."}}},r.trial=function(e,t){var r,n=0,a=[],s=performance.now(),o=s;function l(e){e.target.removeEventListener("click",l),"jspsych-instructions-back"===this.id?c():"jspsych-instructions-next"===this.id&&u()}function p(){var r,i=t.pages[n],a="";t.show_page_number&&(a="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>Page "+(n+1)+"/"+t.pages.length+"</span>"),t.show_clickable_nav?(r="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>",t.allow_backward&&(r+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+(0<n?"":"disabled='disabled'")+">&lt; "+t.button_label_previous+"</button>"),1<t.pages.length&&t.show_page_number&&(r+=a),r+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+t.button_label_next+" &gt;</button></div>",e.innerHTML=i+=r,0!=n&&t.allow_backward&&e.querySelector("#jspsych-instructions-back").addEventListener("click",l),e.querySelector("#jspsych-instructions-next").addEventListener("click",l)):(t.show_page_number&&1<t.pages.length&&(i+="<div class='jspsych-instructions-pagenum'>"+a+"</div>"),e.innerHTML=i)}function u(){d(),(++n>=t.pages.length?function(){t.allow_keys&&i.pluginAPI.cancelKeyboardResponse(r),e.innerHTML="";var n={view_history:JSON.stringify(a),rt:performance.now()-s};i.finishTrial(n)}:p)()}function c(){d(),n--,p()}function d(){var e=performance.now(),t=e-o;a.push({page_index:n,viewing_time:t}),o=e}p(),t.allow_keys&&(r=i.pluginAPI.getKeyboardResponse({callback_function:function e(a){r=i.pluginAPI.getKeyboardResponse({callback_function:e,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),i.pluginAPI.compareKeys(a.key,t.key_backward)&&0!==n&&t.allow_backward&&c(),i.pluginAPI.compareKeys(a.key,t.key_forward)&&u()},valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1}))},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"reconstruction",description:"",parameters:{stim_function:{type:i.plugins.parameterType.FUNCTION,pretty_name:"Stimulus function",default:void 0,description:"A function with a single parameter that returns an HTML-formatted string representing the stimulus."},starting_value:{type:i.plugins.parameterType.FLOAT,pretty_name:"Starting value",default:.5,description:"The starting value of the stimulus parameter."},step_size:{type:i.plugins.parameterType.FLOAT,pretty_name:"Step size",default:.05,description:"The change in the stimulus parameter caused by pressing one of the modification keys."},key_increase:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key increase",default:"h",description:"The key to press for increasing the parameter value."},key_decrease:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Key decrease",default:"g",description:"The key to press for decreasing the parameter value."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},r.trial=function(e,t){var r=t.starting_value,n=i.pluginAPI.getKeyboardResponse({callback_function:function(e){var n="string"==typeof t.key_increase?i.pluginAPI.convertKeyCharacterToKeyCode(t.key_increase):t.key_increase,s="string"==typeof t.key_decrease?i.pluginAPI.convertKeyCharacterToKeyCode(t.key_decrease):t.key_decrease;e.key==n?r+=t.step_size:e.key==s&&(r-=t.step_size),a(r=Math.max(Math.min(1,r),0))},valid_responses:[t.key_increase,t.key_decrease],rt_method:"performance",persist:!0,allow_held_key:!0});function a(r){e.innerHTML='<div id="jspsych-reconstruction-stim-container">'+t.stim_function(r)+"</div>",e.innerHTML+='<button id="jspsych-reconstruction-next" class="jspsych-btn jspsych-reconstruction">'+t.button_label+"</button>",e.querySelector("#jspsych-reconstruction-next").addEventListener("click",s)}function s(){var a=performance.now()-o;i.pluginAPI.cancelKeyboardResponse(n),a={rt:a,final_value:r,start_value:t.starting_value},e.innerHTML="",i.finishTrial(a)}a(r);var o=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"resize",description:"",parameters:{item_height:{type:i.plugins.parameterType.INT,pretty_name:"Item height",default:1,description:"The height of the item to be measured."},item_width:{type:i.plugins.parameterType.INT,pretty_name:"Item width",default:1,description:"The width of the item to be measured."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"The content displayed below the resizable box and above the button."},pixels_per_unit:{type:i.plugins.parameterType.INT,pretty_name:"Pixels per unit",default:100,description:"After the scaling factor is applied, this many pixels will equal one unit of measurement."},starting_size:{type:i.plugins.parameterType.INT,pretty_name:"Starting size",default:100,description:"The initial size of the box, in pixels, along the larget dimension."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label to display on the button to complete calibration."}}},r.trial=function(e,t){var r,n=t.item_width/t.item_height;t.item_width>=t.item_height?(a=t.starting_size,r=Math.round(t.starting_size/n)):(r=t.starting_size,a=Math.round(t.starting_size*n));var a='<div id="jspsych-resize-div" style="border: 2px solid steelblue; height: '+r+"px; width:"+a+'px; margin: 7px auto; background-color: lightsteelblue; position: relative;">';a+='<div id="jspsych-resize-handle" style="cursor: nwse-resize; background-color: steelblue; width: 10px; height: 10px; border: 2px solid lightsteelblue; position: absolute; bottom: 0; right: 0;"></div>',a+="</div>",null!==t.prompt&&(a+=t.prompt),a+='<a class="jspsych-btn" id="jspsych-resize-btn">'+t.button_label+"</a>",e.innerHTML=a,document.getElementById("jspsych-resize-btn").addEventListener("click",(function(){var r;r=(y=m.offsetWidth)/t.item_width,d=r/t.pixels_per_unit,document.getElementById("jspsych-content").style.transform="scale("+d+")",function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",c),e.innerHTML="";var t={final_height_px:void 0,final_width_px:y,scale_factor:d};i.finishTrial(t)}()}));var s,o,l,p,u=!1;e.querySelector("#jspsych-resize-handle").addEventListener("mousedown",(function(e){e.preventDefault(),u=!0,s=e.pageX,o=e.pageY,l=parseInt(m.style.width),p=parseInt(m.style.height)}));var c=function(e){u=!1};document.addEventListener("mouseup",c);var d,y,m=e.querySelector("#jspsych-resize-div"),f=function(e){var t;u&&(t=e.pageX-s,e=e.pageY-o,Math.abs(t)>=Math.abs(e)?(m.style.width=Math.round(Math.max(20,l+2*t))+"px",m.style.height=Math.round(Math.max(20,l+2*t)/n)+"px"):(m.style.height=Math.round(Math.max(20,p+2*e))+"px",m.style.width=Math.round(n*Math.max(20,p+2*e))+"px"))};document.addEventListener("mousemove",f)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"same-different-html",description:"",parameters:{stimuli:{type:i.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli",default:void 0,array:!0,description:"The HTML content to be displayed."},answer:{type:i.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],default:75,description:'Either "same" or "different".'},same_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Same key",default:"Q",description:""},different_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Different key",default:"P",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:i.plugins.parameterType.INT,pretty_name:"First stimulus duration",default:1e3,description:"How long to show the first stimulus for in milliseconds."},gap_duration:{type:i.plugins.parameterType.INT,pretty_name:"Gap duration",default:500,description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:i.plugins.parameterType.INT,pretty_name:"Second stimulus duration",default:1e3,description:"How long to show the second stimulus for in milliseconds."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){var r;function n(){e.innerHTML="",i.pluginAPI.setTimeout((function(){!function(){var n='<div class="jspsych-same-different-stimulus">'+t.stimuli[1]+"</div>";null!==t.prompt&&(n+=t.prompt),e.innerHTML=n,0<t.second_stim_duration&&i.pluginAPI.setTimeout((function(){e.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"}),t.second_stim_duration),i.pluginAPI.getKeyboardResponse({callback_function:function(n){i.pluginAPI.clearAllTimeouts();var a=!1,s="string"==typeof t.same_key?i.pluginAPI.convertKeyCharacterToKeyCode(t.same_key):t.same_key,o="string"==typeof t.different_key?i.pluginAPI.convertKeyCharacterToKeyCode(t.different_key):t.different_key;n.key==s&&"same"==t.answer&&(a=!0),n.key==o&&"different"==t.answer&&(a=!0),n={rt:n.rt,answer:t.answer,correct:a,stimulus:JSON.stringify([t.stimuli[0],t.stimuli[1]]),key_press:n.key},r&&(n.rt_stim1=r.rt,n.key_press_stim1=r.key),e.innerHTML="",i.finishTrial(n)},valid_responses:[t.same_key,t.different_key],rt_method:"performance",persist:!1,allow_held_key:!1})}()}),t.gap_duration)}e.innerHTML='<div class="jspsych-same-different-stimulus">'+t.stimuli[0]+"</div>",0<t.first_stim_duration?i.pluginAPI.setTimeout((function(){n()}),t.first_stim_duration):i.pluginAPI.getKeyboardResponse({callback_function:function(e){r=e,n()},valid_responses:t.advance_key,rt_method:"performance",persist:!1,allow_held_key:!1})},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("same-different-image","stimuli","image"),r.info={name:"same-different-image",description:"",parameters:{stimuli:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimuli",default:void 0,array:!0,description:"The images to be displayed."},answer:{type:i.plugins.parameterType.SELECT,pretty_name:"Answer",options:["same","different"],default:75,description:'Either "same" or "different".'},same_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Same key",default:"Q",description:""},different_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Different key",default:"P",description:"The key that subjects should press to indicate that the two stimuli are the same."},first_stim_duration:{type:i.plugins.parameterType.INT,pretty_name:"First stimulus duration",default:1e3,description:"How long to show the first stimulus for in milliseconds."},gap_duration:{type:i.plugins.parameterType.INT,pretty_name:"Gap duration",default:500,description:"How long to show a blank screen in between the two stimuli."},second_stim_duration:{type:i.plugins.parameterType.INT,pretty_name:"Second stimulus duration",default:1e3,description:"How long to show the second stimulus for in milliseconds."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){var r;function n(){e.innerHTML="",i.pluginAPI.setTimeout((function(){!function(){var n='<img class="jspsych-same-different-stimulus" src="'+t.stimuli[1]+'"></img>';null!==t.prompt&&(n+=t.prompt),e.innerHTML=n,0<t.second_stim_duration&&i.pluginAPI.setTimeout((function(){e.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"}),t.second_stim_duration),i.pluginAPI.getKeyboardResponse({callback_function:function(n){i.pluginAPI.clearAllTimeouts();var a=!1,s="string"==typeof t.same_key?i.pluginAPI.convertKeyCharacterToKeyCode(t.same_key):t.same_key,o="string"==typeof t.different_key?i.pluginAPI.convertKeyCharacterToKeyCode(t.different_key):t.different_key;n.key==s&&"same"==t.answer&&(a=!0),n.key==o&&"different"==t.answer&&(a=!0),n={rt:n.rt,answer:t.answer,correct:a,stimulus:JSON.stringify([t.stimuli[0],t.stimuli[1]]),key_press:n.key},r&&(n.rt_stim1=r.rt,n.key_press_stim1=r.key),e.innerHTML="",i.finishTrial(n)},valid_responses:[t.same_key,t.different_key],rt_method:"performance",persist:!1,allow_held_key:!1})}()}),t.gap_duration)}e.innerHTML='<img class="jspsych-same-different-stimulus" src="'+t.stimuli[0]+'"></img>',0<t.first_stim_duration?i.pluginAPI.setTimeout((function(){n()}),t.first_stim_duration):i.pluginAPI.getKeyboardResponse({callback_function:function(e){r=e,n()},valid_responses:t.advance_key,rt_method:"performance",persist:!1,allow_held_key:!1})},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"serial-reaction-time-mouse",description:"",parameters:{target:{type:i.plugins.parameterType.INT,pretty_name:"Target",array:!0,default:void 0,description:"The location of the target. The array should be the [row, column] of the target."},grid:{type:i.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,default:[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},grid_square_size:{type:i.plugins.parameterType.INT,pretty_name:"Grid square size",default:100,description:"The width and height in pixels of each square in the grid."},target_color:{type:i.plugins.parameterType.STRING,pretty_name:"Target color",default:"#999",description:"The color of the target square."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, the trial ends after a key press."},pre_target_duration:{type:i.plugins.parameterType.INT,pretty_name:"Pre-target duration",default:0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial"},fade_duration:{type:i.plugins.parameterType.INT,pretty_name:"Fade duration",default:null,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},allow_nontarget_responses:{type:i.plugins.parameterType.BOOL,pretty_name:"Allow nontarget response",default:!1,description:"If true, then user can make nontarget response."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus"}}},r.trial=function(e,t){var r=-1,n={rt:null,row:null,column:null},a=this.stimulus(t.grid,t.grid_square_size);function s(){for(var a=t.allow_nontarget_responses?e.querySelectorAll(".jspsych-serial-reaction-time-stimulus-cell"):[e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1])],s=0;s<a.length;s++)a[s].addEventListener("mousedown",(function(e){var i;-1==r||((i={}).row=e.currentTarget.getAttribute("data-row"),i.column=e.currentTarget.getAttribute("data-column"),i.rt=performance.now()-r,i=i,n=null==n.rt?i:n,t.response_ends_trial&&o())}));r=performance.now(),null==t.fade_duration||(e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.transition="background-color "+t.fade_duration),e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.backgroundColor=t.target_color,null!==t.trial_duration&&i.pluginAPI.setTimeout(o,t.trial_duration)}function o(){i.pluginAPI.clearAllTimeouts();var r={rt:n.rt,grid:JSON.stringify(t.grid),target:JSON.stringify(t.target),response_row:n.row,response_column:n.column,correct:n.row==t.target[0]&&n.column==t.target[1]};e.innerHTML="",i.finishTrial(r)}e.innerHTML=a,t.pre_target_duration<=0?s():i.pluginAPI.setTimeout((function(){s()}),t.pre_target_duration),null!==t.prompt&&(e.innerHTML+=t.prompt)},r.stimulus=function(e,t,r,i,n){for(var a="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+t/4+"px'>",s=0;s<e.length;s++){a+="<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>";for(var o=0;o<e[s].length;o++)a+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+s+"-"+o+"' data-row="+s+" data-column="+o+" style='width:"+t+"px; height:"+t+"px; display:table-cell; vertical-align:middle; text-align: center; cursor: pointer; font-size:"+t/2+"px;",1==e[s][o]&&(a+="border: 2px solid black;"),void 0!==r&&r[0]==s&&r[1]==o&&(a+="background-color: "+i+";"),a+="'>",void 0!==n&&!1!==n[s][o]&&(a+=n[s][o]),a+="</div>";a+="</div>"}return a+"</div>"},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"serial-reaction-time",description:"",parameters:{grid:{type:i.plugins.parameterType.BOOL,pretty_name:"Grid",array:!0,default:[[1,1,1,1]],description:"This array represents the grid of boxes shown on the screen."},target:{type:i.plugins.parameterType.INT,pretty_name:"Target",array:!0,default:void 0,description:"The location of the target. The array should be the [row, column] of the target."},choices:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Choices",array:!0,default:[["3","5","7","9"]],description:" Each entry in this array is the key that should be pressed for that corresponding location in the grid."},grid_square_size:{type:i.plugins.parameterType.INT,pretty_name:"Grid square size",default:100,description:"The width and height in pixels of each square in the grid."},target_color:{type:i.plugins.parameterType.STRING,pretty_name:"Target color",default:"#999",description:"The color of the target square."},response_ends_trial:{type:i.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial ends when user makes a response."},pre_target_duration:{type:i.plugins.parameterType.INT,pretty_name:"Pre-target duration",default:0,description:"The number of milliseconds to display the grid before the target changes color."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show the trial."},show_response_feedback:{type:i.plugins.parameterType.BOOL,pretty_name:"Show response feedback",default:!1,description:"If true, show feedback indicating where the user responded and whether it was correct."},feedback_duration:{type:i.plugins.parameterType.INT,pretty_name:"Feedback duration",default:200,description:"The length of time in milliseconds to show the feedback."},fade_duration:{type:i.plugins.parameterType.INT,pretty_name:"Fade duration",default:null,description:"If a positive number, the target will progressively change color at the start of the trial, with the transition lasting this many milliseconds."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,no_function:!1,description:" Any content here will be displayed below the stimulus."}}},r.trial=function(e,t){for(var r=i.utils.flatten(t.choices);-1<r.indexOf("");)r.splice(r.indexOf(""),1);var n=this.stimulus(t.grid,t.grid_square_size);e.innerHTML=n,t.pre_target_duration<=0?o():i.pluginAPI.setTimeout((function(){o()}),t.pre_target_duration),null!==t.prompt&&(e.innerHTML+=t.prompt);var a={},s={rt:null,key:!1,correct:!1};function o(){null==t.fade_duration||(e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.transition="background-color "+t.fade_duration),e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+t.target[0]+"-"+t.target[1]).style.backgroundColor=t.target_color,a=i.pluginAPI.getKeyboardResponse({callback_function:u,valid_responses:r,allow_held_key:!1}),null<t.trial_duration&&i.pluginAPI.setTimeout(l,t.trial_duration)}function l(){var r;null==s.rt||0==t.show_response_feedback?p():(r=s.correct?"#0f0":"#f00",e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+s.responseLoc[0]+"-"+s.responseLoc[1]).style.transition="",e.querySelector("#jspsych-serial-reaction-time-stimulus-cell-"+s.responseLoc[0]+"-"+s.responseLoc[1]).style.backgroundColor=r,i.pluginAPI.setTimeout(p,t.feedback_duration))}function p(){i.pluginAPI.clearAllTimeouts(),void 0!==a&&i.pluginAPI.cancelKeyboardResponse(a);var r={rt:s.rt,key_press:s.key,correct:s.correct,grid:JSON.stringify(t.grid),target:JSON.stringify(t.target)};e.innerHTML="",i.finishTrial(r)}function u(e){s=null==s.rt?e:s;for(var r=[],n=0;n<t.choices.length;n++)for(var a=0;a<t.choices[n].length;a++){var o="string"==typeof t.choices[n][a]?i.pluginAPI.convertKeyCharacterToKeyCode(t.choices[n][a]):t.choices[n][a];if(e.key==o){r=[n,a];break}}s.responseLoc=r,s.correct=JSON.stringify(r)==JSON.stringify(t.target),t.response_ends_trial&&(t.show_response_feedback?l(s.correct):p())}},r.stimulus=function(e,t,r,i,n){for(var a="<div id='jspsych-serial-reaction-time-stimulus' style='margin:auto; display: table; table-layout: fixed; border-spacing:"+t/4+"px'>",s=0;s<e.length;s++){a+="<div class='jspsych-serial-reaction-time-stimulus-row' style='display:table-row;'>";for(var o=0;o<e[s].length;o++)a+="<div class='jspsych-serial-reaction-time-stimulus-cell' id='jspsych-serial-reaction-time-stimulus-cell-"+s+"-"+o+"' style='width:"+t+"px; height:"+t+"px; display:table-cell; vertical-align:middle; text-align: center; font-size:"+t/2+"px;",1==e[s][o]&&(a+="border: 2px solid black;"),void 0!==r&&r[0]==s&&r[1]==o&&(a+="background-color: "+i+";"),a+="'>",void 0!==n&&!1!==n[s][o]&&(a+=n[s][o]),a+="</div>";a+="</div>"}return a+"</div>"},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"survey-likert",description:"",parameters:{questions:{type:i.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Questions that are associated with the slider."},labels:{type:i.plugins.parameterType.STRING,array:!0,pretty_name:"Labels",default:void 0,description:"Labels to display for individual question."},required:{type:i.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Makes answering questions required."}}},randomize_question_order:{type:i.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:i.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"String to display at top of the page."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."}}},r.trial=function(e,t){var r="";r+='<style id="jspsych-survey-likert-css">',r+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:100%; margin:0; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",r+="</style>",null!==t.preamble&&(r+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+t.preamble+"</div>"),r+='<form id="jspsych-survey-likert-form">';for(var n=[],a=0;a<t.questions.length;a++)n.push(a);for(t.randomize_question_order&&(n=i.randomization.shuffle(n)),a=0;a<t.questions.length;a++){var s=t.questions[n[a]];r+='<label class="jspsych-survey-likert-statement">'+s.prompt+"</label>";for(var o=100/s.labels.length,l='<ul class="jspsych-survey-likert-opts" data-radio-group="Q'+n[a]+'">',p=0;p<s.labels.length;p++)l+='<li style="width:'+o+'%"><input type="radio" name="Q'+n[a]+'" value="'+p+'"',s.required&&(l+=" required"),l+='><label class="jspsych-survey-likert-opt-label">'+s.labels[p]+"</label></li>";r+=l+="</ul>"}r+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+t.button_label+'"></input>',e.innerHTML=r+="</form>",e.querySelector("#jspsych-survey-likert-form").addEventListener("submit",(function(t){t.preventDefault();t=performance.now()-u;for(var r={},a=e.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),s=0;s<a.length;s++){var o,l=a[s].dataset.radioGroup,p=e.querySelector('input[name="'+l+'"]:checked');o=null===p?"":parseInt(p.value),(p={})[l]=o,Object.assign(r,p)}t={rt:t,responses:JSON.stringify(r),question_order:JSON.stringify(n)},e.innerHTML="",i.finishTrial(t)}));var u=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"survey-multi-choice",description:"",parameters:{questions:{type:i.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:i.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},required:{type:i.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick an option for each question."},horizontal:{type:i.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."}}},randomize_question_order:{type:i.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:i.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."}}},r.trial=function(e,t){var r="jspsych-survey-multi-choice",n="";n+='<style id="jspsych-survey-multi-choice-css">',n+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",n+="</style>",null!==t.preamble&&(n+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+t.preamble+"</div>"),n+='<form id="jspsych-survey-multi-choice-form">';for(var a=[],s=0;s<t.questions.length;s++)a.push(s);for(t.randomize_question_order&&(a=i.randomization.shuffle(a)),s=0;s<t.questions.length;s++){var o=t.questions[a[s]],l=a[s],p=["jspsych-survey-multi-choice-question"];o.horizontal&&p.push("jspsych-survey-multi-choice-horizontal"),n+='<div id="jspsych-survey-multi-choice-'+l+'" class="'+p.join(" ")+'">',n+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+o.prompt,o.required&&(n+="<span class='required'>*</span>"),n+="</p>";for(var u=0;u<o.options.length;u++){var c="jspsych-survey-multi-choice-response-"+l+"-"+u,d=o.required?"required":"";n+='<div id="jspsych-survey-multi-choice-option-'+l+"-"+u+'" class="jspsych-survey-multi-choice-option">',n+='<label class="jspsych-survey-multi-choice-text" for="'+c+'">'+o.options[u]+"</label>",n+='<input type="radio" name="jspsych-survey-multi-choice-response-'+l+'" id="'+c+'" value="'+o.options[u]+'" '+d+"></input>",n+="</div>"}n+="</div>"}n+='<input type="submit" id="'+r+'-next" class="'+r+' jspsych-btn"'+(t.button_label?' value="'+t.button_label+'"':"")+"></input>",e.innerHTML=n+="</form>",document.querySelector("form").addEventListener("submit",(function(n){n.preventDefault(),e.querySelectorAll("div."+r+"-question");n=performance.now()-y;for(var s={},o=0;o<t.questions.length;o++){var l,p=e.querySelector("#jspsych-survey-multi-choice-"+o),u="Q"+o;l=null!==p.querySelector("input[type=radio]:checked")?p.querySelector("input[type=radio]:checked").value:"",(p={})[u]=l,Object.assign(s,p)}n={rt:n,responses:JSON.stringify(s),question_order:JSON.stringify(a)},e.innerHTML="",i.finishTrial(n)}));var y=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"survey-multi-select",description:"",parameters:{questions:{type:i.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"The strings that will be associated with a group of options."},options:{type:i.plugins.parameterType.STRING,pretty_name:"Options",array:!0,default:void 0,description:"Displays options for an individual question."},horizontal:{type:i.plugins.parameterType.BOOL,pretty_name:"Horizontal",default:!1,description:"If true, then questions are centered and options are displayed horizontally."},required:{type:i.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Subject will be required to pick at least one option for this question."}}},randomize_question_order:{type:i.plugins.parameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:i.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."},required_message:{type:i.plugins.parameterType.STRING,pretty_name:"Required message",default:"You must choose at least one response for this question",description:"Message that will be displayed if required question is not answered."}}},r.trial=function(e,t){function r(){return Array.prototype.slice.call(arguments,r.length).join(separator="-")}var n="jspsych-survey-multi-select";e.innerHTML="<style id=\"jspsych-survey-multi-select-css\">.jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}</style>";var a=r(n,"form");e.innerHTML+='<form id="'+a+'"></form>';var s=e.querySelector("#"+a);a=r(n,"preamble");null!==t.preamble&&(s.innerHTML+='<div id="'+a+'" class="'+a+'">'+t.preamble+"</div>");for(var o=[],l=0;l<t.questions.length;l++)o.push(l);for(t.randomize_question_order&&(o=i.randomization.shuffle(o)),l=0;l<t.questions.length;l++){var p=t.questions[o[l]],u=o[l],c=[r(n,"question")];p.horizontal&&c.push(r(n,"horizontal")),s.innerHTML+='<div id="'+r(n,u)+'" class="'+c.join(" ")+'"></div>';var d=r("#jspsych-survey-multi-select",u);e.querySelector(d).innerHTML+='<p id="survey-question" class="'+n+'-text survey-multi-select">'+p.prompt+"</p>";for(var y=0;y<p.options.length;y++){var m=r(n,"option",u,y);e.querySelector(d).innerHTML+='<div id="'+m+'" class="'+r(n,"option")+'"></div>';var f=document.getElementById(m),h=r(n,"response",u),g=r(n,"response",u,y),_=document.createElement("label");_.setAttribute("class",n+"-text"),_.innerHTML=p.options[y],_.setAttribute("for",g),(m=document.createElement("input")).setAttribute("type","checkbox"),m.setAttribute("name",h),m.setAttribute("id",g),m.setAttribute("value",p.options[y]),f.appendChild(_),f.insertBefore(m,_)}}s.innerHTML+='<div class="fail-message"></div>',s.innerHTML+='<button id="'+n+'-next" class="'+n+' jspsych-btn">'+t.button_label+"</button>",e.querySelector("#jspsych-survey-multi-select-next").addEventListener("click",(function(){for(var r=0;r<t.questions.length;r++)t.questions[r].required&&(null==e.querySelector("#jspsych-survey-multi-select-"+r+" input:checked")?e.querySelector("#jspsych-survey-multi-select-"+r+" input").setCustomValidity(t.required_message):e.querySelector("#jspsych-survey-multi-select-"+r+" input").setCustomValidity(""));s.reportValidity()})),s.addEventListener("submit",(function(r){r.preventDefault();r=performance.now()-v;for(var n={},a=[],s=0;s<t.questions.length;s++){for(var l=[],p=e.querySelector("#jspsych-survey-multi-select-"+s).querySelectorAll("input[type=checkbox]:checked"),u=0;u<p.length;u++)currentChecked=p[u],l.push(currentChecked.value);var c={};c["Q"+s]=l,Object.assign(n,c),0==l.length?a.push(!1):a.push(!0)}r={rt:r,responses:JSON.stringify(n),question_order:JSON.stringify(o)},e.innerHTML="",i.finishTrial(r)}));var v=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);(r={}).info={name:"survey-text",description:"",parameters:{questions:{type:i.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Prompt for the subject to response"},placeholder:{type:i.plugins.parameterType.STRING,pretty_name:"Value",default:"",description:"Placeholder text in the textfield."},rows:{type:i.plugins.parameterType.INT,pretty_name:"Rows",default:1,description:"The number of rows for the response text box."},columns:{type:i.plugins.parameterType.INT,pretty_name:"Columns",default:40,description:"The number of columns for the response text box."},required:{type:i.plugins.parameterType.BOOL,pretty_name:"Required",default:!1,description:"Require a response"}}},preamble:{type:i.plugins.parameterType.STRING,pretty_name:"Preamble",default:null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:i.plugins.parameterType.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},r.trial=function(e,t){for(var r=0;r<t.questions.length;r++)void 0===t.questions[r].rows&&(t.questions[r].rows=1);for(r=0;r<t.questions.length;r++)void 0===t.questions[r].columns&&(t.questions[r].columns=40);for(r=0;r<t.questions.length;r++)void 0===t.questions[r].value&&(t.questions[r].value="");var n="";null!==t.preamble&&(n+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>"),n+='<form id="jspsych-survey-text-form">';var a=[];for(r=0;r<t.questions.length;r++)a.push(r);for(t.randomize_question_order&&(a=i.randomization.shuffle(a)),r=0;r<t.questions.length;r++){var s=t.questions[a[r]],o=a[r];n+='<div id="jspsych-survey-text-'+o+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',n+='<p class="jspsych-survey-text">'+s.prompt+"</p>";var l=0==r?"autofocus":"",p=s.required?"required":"";1==s.rows?n+='<input id="input-'+o+'" type="text" name="#jspsych-survey-text-response-'+o+'" size="'+s.columns+'" '+l+" "+p+' placeholder="'+s.placeholder+'"></input>':n+='<textarea id="input-'+o+'" name="#jspsych-survey-text-response-'+o+'" cols="'+s.columns+'" rows="'+s.rows+'" '+l+" "+p+' placeholder="'+s.placeholder+'"></textarea>',n+="</div>"}n+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+t.button_label+'"></input>',e.innerHTML=n+="</form>",e.querySelector("#input-"+a[0]).focus(),e.querySelector("#jspsych-survey-text-form").addEventListener("submit",(function(r){r.preventDefault();r=performance.now()-u;for(var n={},a=0;a<t.questions.length;a++){var s="Q"+a,o=document.querySelector("#jspsych-survey-text-"+a).querySelector("textarea, input").value,l={};l[s]=o,Object.assign(n,l)}r={rt:r,responses:JSON.stringify(n)},e.innerHTML="",i.finishTrial(r)}));var u=performance.now()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("video","sources","video"),r.info={name:"video",description:"",parameters:{sources:{type:i.plugins.parameterType.VIDEO,pretty_name:"Sources",array:!0,default:void 0,description:"The video file to play."},width:{type:i.plugins.parameterType.INT,pretty_name:"Width",default:"",description:"The width of the video in pixels."},height:{type:i.plugins.parameterType.INT,pretty_name:"Height",default:"",description:"The height of the video display in pixels."},autoplay:{type:i.plugins.parameterType.BOOL,pretty_name:"Autoplay",default:!0,description:"If true, the video will begin playing as soon as it has loaded."},controls:{type:i.plugins.parameterType.BOOL,pretty_name:"Controls",default:!1,description:"If true, the subject will be able to pause the video or move the playback to any point in the video."},prompt:{type:i.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the video content."},start:{type:i.plugins.parameterType.FLOAT,pretty_name:"Start",default:null,description:"Time to start the clip."},stop:{type:i.plugins.parameterType.FLOAT,pretty_name:"Stop",default:null,description:"Time to stop the clip."},rate:{type:i.plugins.parameterType.FLOAT,pretty_name:"Rate",default:null,description:"The playback rate of the video. 1 is normal, <1 is slower, >1 is faster."}}},r.trial=function(e,t){var r='<video id="jspsych-video-player"';t.width&&(r+=' width="'+t.width+'"'),t.height&&(r+=' height="'+t.height+'"'),t.autoplay&&(r+=" autoplay "),t.controls&&(r+=" controls "),r+=">";var n=i.pluginAPI.getVideoBuffer(t.sources[0]);if(!n)for(var a=0;a<t.sources.length;a++){var s=t.sources[a],o=(s=-1<s.indexOf("?")?s.substring(0,s.indexOf("?")):s).substr(s.lastIndexOf(".")+1);r+='<source src="'+s+'" type="video/'+(o=o.toLowerCase())+'">'}r+="</video>",null!==t.prompt&&(r+=t.prompt),e.innerHTML=r,n&&(e.querySelector("#jspsych-video-player").src=n),e.querySelector("#jspsych-video-player").onended=function(){l()},e.querySelector("#jspsych-video-player").onplay=function(){null!==t.stop&&(null==t.start&&(t.start=0),i.pluginAPI.setTimeout(l,1e3*(t.stop-t.start)))},null!==t.start&&(e.querySelector("#jspsych-video-player").currentTime=t.start),null!==t.rate&&(e.querySelector("#jspsych-video-player").playbackRate=t.rate);var l=function(){var r={stimulus:JSON.stringify(t.sources)};e.innerHTML="",i.finishTrial(r)}},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("visual-search-circle","target","image"),i.pluginAPI.registerPreload("visual-search-circle","foil","image"),i.pluginAPI.registerPreload("visual-search-circle","fixation_image","image"),r.info={name:"visual-search-circle",description:"",parameters:{target:{type:i.plugins.parameterType.IMAGE,pretty_name:"Target",default:void 0,description:"The image to be displayed."},foil:{type:i.plugins.parameterType.IMAGE,pretty_name:"Foil",default:void 0,description:"Path to image file that is the foil/distractor."},fixation_image:{type:i.plugins.parameterType.IMAGE,pretty_name:"Fixation image",default:void 0,description:"Path to image file that is a fixation target."},set_size:{type:i.plugins.parameterType.INT,pretty_name:"Set size",default:void 0,description:"How many items should be displayed?"},target_present:{type:i.plugins.parameterType.BOOL,pretty_name:"Target present",default:!0,description:"Is the target present?"},target_size:{type:i.plugins.parameterType.INT,pretty_name:"Target size",array:!0,default:[50,50],description:"Two element array indicating the height and width of the search array element images."},fixation_size:{type:i.plugins.parameterType.INT,pretty_name:"Fixation size",array:!0,default:[16,16],description:"Two element array indicating the height and width of the fixation image."},circle_diameter:{type:i.plugins.parameterType.INT,pretty_name:"Circle diameter",default:250,description:"The diameter of the search array circle in pixels."},target_present_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Target present key",default:"j",description:"The key to press if the target is present in the search array."},target_absent_key:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Target absent key",default:"f",description:"The key to press if the target is not present in the search array."},trial_duration:{type:i.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"The maximum duration to wait for a response."},fixation_duration:{type:i.plugins.parameterType.INT,pretty_name:"Fixation duration",default:1e3,description:"How long to show the fixation image for before the search array (in milliseconds)."}}},r.trial=function(e,t){for(var r,n=t.circle_diameter,a=n/2,s=n+t.target_size[0],o=t.target_size[0]/2,l=t.target_size[1]/2,p=[Math.floor(s/2-t.fixation_size[0]/2),Math.floor(s/2-t.fixation_size[1]/2)],u=[],c=t.set_size,d=Math.floor(360*Math.random()),y=0;y<c;y++)u.push([Math.floor(s/2+(r=d+y*(360/c),Math.cos(r/180*Math.PI)*a)-l),Math.floor(s/2-(r=d+y*(360/c),Math.sin(r/180*Math.PI)*a)-o)]);e.innerHTML+='<div id="jspsych-visual-search-circle-container" style="position: relative; width:'+s+"px; height:"+s+'px"></div>';var m=e.querySelector("#jspsych-visual-search-circle-container");if(!Array.isArray(t.foil)){for(fa=[],y=0;y<t.set_size;y++)fa.push(t.foil);t.foil=fa}function f(e,r,n){n={correct:r,rt:e,key_press:n,locations:JSON.stringify(u),target_present:t.target_present,set_size:t.set_size},i.finishTrial(n)}m.innerHTML+="<img src='"+t.fixation_image+"' style='position: absolute; top:"+p[0]+"px; left:"+p[1]+"px; width:"+t.fixation_size[0]+"px; height:"+t.fixation_size[1]+"px;'></img>",i.pluginAPI.setTimeout((function(){!function(){var r=[];t.target_present&&r.push(t.target),r=r.concat(t.foil);for(var n=0;n<u.length;n++)m.innerHTML+="<img src='"+r[n]+"' style='position: absolute; top:"+u[n][0]+"px; left:"+u[n][1]+"px; width:"+t.target_size[0]+"px; height:"+t.target_size[1]+"px;'></img>";var a=!1,s=[t.target_present_key,t.target_absent_key];function o(){e.innerHTML=""}key_listener=i.pluginAPI.getKeyboardResponse({callback_function:function(e){var r=!(a=!0);(i.pluginAPI.compareKeys(e.key,t.target_present_key)&&t.target_present||i.pluginAPI.compareKeys(e.key,t.target_absent_key)&&!t.target_present)&&(r=!0),o(),f(e.rt,r,e.key)},valid_responses:s,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&i.pluginAPI.setTimeout((function(){a||(i.pluginAPI.cancelKeyboardResponse(key_listener),a=!0,o(),f(null,0,null))}),t.trial_duration)}()}),t.fixation_duration)},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i=window.jsPsych||r(0);r={},i.pluginAPI.registerPreload("vsl-animate-occlusion","stimuli","image"),r.info={name:"vsl-animate-occlusion",description:"",parameters:{stimuli:{type:i.plugins.parameterType.IMAGE,pretty_name:"Stimuli",default:void 0,array:!0,description:"A stimulus is a path to an image file."},choices:{type:i.plugins.parameterType.KEYCODE,pretty_name:"Choices",array:!0,default:i.ALL_KEYS,description:"This array contains the keys that the subject is allowed to press in order to respond to the stimulus. "},canvas_size:{type:i.plugins.parameterType.INT,pretty_name:"Canvas size",array:!0,default:[400,400],description:"Array specifying the width and height of the area that the animation will display in."},image_size:{type:i.plugins.parameterType.INT,pretty_name:"Image size",array:!0,default:[100,100],description:"Array specifying the width and height of the images to show."},initial_direction:{type:i.plugins.parameterType.SELECT,pretty_name:"Initial direction",choices:["left","right"],default:"left",description:"Which direction the stimulus should move first."},occlude_center:{type:i.plugins.parameterType.BOOL,pretty_name:"Occlude center",default:!0,description:"If true, display a rectangle in the center of the screen that is just wide enough to occlude the image completely as it passes behind."},cycle_duration:{type:i.plugins.parameterType.INT,pretty_name:"Cycle duration",default:1e3,description:"How long it takes for a stimulus in the sequence to make a complete cycle."},pre_movement_duration:{type:i.plugins.parameterType.INT,pretty_name:"Pre movement duration",default:500,description:"How long to wait before the stimuli starts moving from behind the center rectangle."}}},r.trial=function(e,t){var r=[],n=[[{params:{x:t.canvas_size[0]-t.image_size[0]},ms:t.cycle_duration/2},{params:{x:t.canvas_size[0]/2-t.image_size[0]/2},ms:t.cycle_duration/2}],[{params:{x:0},ms:t.cycle_duration/2},{params:{x:t.canvas_size[0]/2-t.image_size[0]/2},ms:t.cycle_duration/2}]],a=0,s="right"==t.initial_direction?0:1;function o(){var l,u;t.stimuli.length==a?function(){e.innerHTML="",i.pluginAPI.cancelKeyboardResponse(key_listener);var n={stimuli:JSON.stringify(t.stimuli),responses:JSON.stringify(r)};i.finishTrial(n)}():(l=n[s],s=0===s?1:0,u=t.stimuli[a],a++,p.animate(l[0].params,l[0].ms,mina.linear,(function(){p.animate(l[1].params,l[1].ms,mina.linear,(function(){o()}))})),p.attr({href:u}),performance.now())}e.innerHTML="<svg id='jspsych-vsl-animate-occlusion-canvas' width="+t.canvas_size[0]+" height="+t.canvas_size[1]+"></svg>";var l=Snap("#jspsych-vsl-animate-occlusion-canvas"),p=l.image(t.stimuli[a],t.canvas_size[0]/2-t.image_size[0]/2,t.canvas_size[1]/2-t.image_size[1]/2,t.image_size[0],t.image_size[1]).attr({id:"jspsych-vsl-animate-occlusion-moving-image"});e.querySelector("#jspsych-vsl-animate-occlusion-moving-image").removeAttribute("preserveAspectRatio"),t.occlude_center&&l.rect(t.canvas_size[0]/2-t.image_size[0]/2,0,t.image_size[0],t.canvas_size[1]).attr({fill:"#000"}),key_listener=i.pluginAPI.getKeyboardResponse({callback_function:function(e){r.push({key:e.key,stimulus:a-1,rt:e.rt})},valid_responses:t.choices,rt_method:"performance",persist:!0,allow_held_key:!1}),0<t.pre_movement_duration?i.pluginAPI.setTimeout((function(){o()}),t.pre_movement_duration):o()},void 0===(r="function"==typeof(r=r)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){var i,n=window.jsPsych||r(0);i={},n.pluginAPI.registerPreload("vsl-grid-scene","stimuli","image"),i.info={name:"vsl-grid-scene",description:"",parameters:{stimuli:{type:n.plugins.parameterType.IMAGE,pretty_name:"Stimuli",array:!0,default:void 0,description:"An array that defines a grid."},image_size:{type:n.plugins.parameterType.INT,pretty_name:"Image size",array:!0,default:[100,100],description:"Array specifying the width and height of the images to show."},trial_duration:{type:n.plugins.parameterType.INT,pretty_name:"Trial duration",default:2e3,description:"How long to show the stimulus for in milliseconds."}}},i.trial=function(e,t){e.innerHTML=i.generate_stimulus(t.stimuli,t.image_size),n.pluginAPI.setTimeout((function(){!function(){e.innerHTML="";var r={stimulus:JSON.stringify(t.stimuli)};n.finishTrial(r)}()}),t.trial_duration)},i.generate_stimulus=function(e,t){var r=e.length,i=e[0].length,n='<div id="jspsych-vsl-grid-scene-dummy" css="display: none;">';n+='<table id="jspsych-vsl-grid-scene table" style="border-collapse: collapse; margin-left: auto; margin-right: auto;">';for(var a=0;a<r;a++){n+='<tr id="jspsych-vsl-grid-scene-table-row-'+a+'" css="height: '+t[1]+'px;">';for(var s=0;s<i;s++)n+='<td id="jspsych-vsl-grid-scene-table-'+a+"-"+s+'" style="padding: '+t[1]/10+"px "+t[0]/10+'px; border: 1px solid #555;"><div id="jspsych-vsl-grid-scene-table-cell-'+a+"-"+s+'" style="width: '+t[0]+"px; height: "+t[1]+'px;">',0!==e[a][s]&&(n+='<img src="'+e[a][s]+'" style="width: '+t[0]+"px; height: "+t[1]+'"></img>'),n+="</div>",n+="</td>";n+="</tr>"}return(n+="</table>")+"</div>"},void 0===(r="function"==typeof(r=i)?r.apply(t,[]):r)||(e.exports=r)},function(e,t,r){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(35),n=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,o=60110,l=60112;t.Suspense=60113;var p=60115,u=60116;"function"==typeof Symbol&&Symbol.for&&(n=(_=Symbol.for)("react.element"),a=_("react.portal"),t.Fragment=_("react.fragment"),t.StrictMode=_("react.strict_mode"),t.Profiler=_("react.profiler"),s=_("react.provider"),o=_("react.context"),l=_("react.forward_ref"),t.Suspense=_("react.suspense"),p=_("react.memo"),u=_("react.lazy"));var c="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function f(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||y}function h(){}function g(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||y}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=f.prototype;var _=g.prototype=new h;_.constructor=g,i(_,f.prototype),_.isPureReactComponent=!0;var v={current:null},b=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,i)&&!T.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var p=Array(l),u=0;u<l;u++)p[u]=arguments[u+2];a.children=p}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:v.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,r={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var r}function j(e,t,r){if(null==e)return e;var i=[],s=0;return function e(t,r,i,s,o){var l,p,u=!1;if(null===(t="undefined"==(m=typeof t)||"boolean"===m?null:t))u=!0;else switch(m){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case a:u=!0}}if(u)return o=o(u=t),t=""===s?"."+x(u,0):s,Array.isArray(o)?(i="",e(o,r,i=null!=t?t.replace(I,"$&/")+"/":i,"",(function(e){return e}))):null!=o&&(k(o)&&(l=i+(!(p=o).key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+t,o={$$typeof:n,type:p.type,key:l,ref:p.ref,props:p.props,_owner:p._owner}),r.push(o)),1;if(u=0,s=""===s?".":s+":",Array.isArray(t))for(var y=0;y<t.length;y++){var m,f=s+x(m=t[y],y);u+=e(m,r,i,f,o)}else if("function"==typeof(f=null!==(p=t)&&"object"==typeof p&&"function"==typeof(p=c&&p[c]||p["@@iterator"])?p:null))for(t=f.call(t),y=0;!(m=t.next()).done;)u+=e(m=m.value,r,i,f=s+x(m,y++),o);else if("object"===m)throw r=""+t,Error(d(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r));return u}(e,i,"","",(function(e){return t.call(r,e,s++)})),i}function S(e){var t;if(-1===e._status&&(t=(t=e._result)(),e._status=0,(e._result=t).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))),1===e._status)return e._result;throw e._result}var A={current:null};function L(){var e=A.current;if(null===e)throw Error(d(321));return e}_={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:v,IsSomeRendererActing:{current:!1},assign:i},t.Children={map:j,forEach:function(e,t,r){j(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=f,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.cloneElement=function(e,t,r){if(null==e)throw Error(d(267,e));var a=i({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t)for(p in void 0!==t.ref&&(o=t.ref,l=v.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)b.call(t,p)&&!T.hasOwnProperty(p)&&(a[p]=(void 0===t[p]&&void 0!==u?u:t)[p]);var p=arguments.length-2;if(1===p)a.children=r;else if(1<p){for(var u=Array(p),c=0;c<p;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:l}},t.createContext=function(e,t){return(e={$$typeof:o,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return L().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,r){return L().useReducer(e,t,r)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var r,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var l in r=Object(arguments[o]))n.call(r,l)&&(s[l]=r[l]);if(i)for(var p=i(r),u=0;u<p.length;u++)a.call(r,p[u])&&(s[p[u]]=r[p[u]])}return s}},function(e,t,r){"use strict";r.r(t),r.d(t,"jsPsych",(function(){return s.a})),r.d(t,"ExperimentWindow",(function(){return J}));var i=r(1),n=r.n(i),a=r(0),s=r.n(a),o=r(2),l=r.n(o),p=r(3),u=r.n(p),c=r(4),d=r.n(c),y=r(5),m=r.n(y),f=r(6),h=r.n(f),g=r(7),_=r.n(g),v=r(8),b=r.n(v),T=r(9),w=r.n(T),k=r(10),I=r.n(k),x=r(11),j=r.n(x),S=r(12),A=r.n(S),L=r(13),P=r.n(L),O=r(14),N=r.n(O),E=r(15),q=r.n(E),M=r(16),R=r.n(M),C=r(17),H=(t=r.n(C),a=r(18),o=r.n(a),p=r(19),c=r.n(p),y=r(20),f=r.n(y),g=r(21),v=r.n(g),T=r(22),k=r.n(T),x=r(23),S=r.n(x),L=r(24),O=r.n(L),E=r(25),M=r.n(E),C=r(26),a=r.n(C),p=r(27),y=r.n(p),g=r(28),T=r.n(g),x=r(29),L=r.n(x),E=r(30),C=r.n(E),p=r(31),g=r.n(p),x=r(32),E=r.n(x),p=r(33),x=r.n(p),window.jsPsych||r(0)),z=(p=((p={}).info={name:"callback-html-keyboard-response",description:"",parameters:{stimulus:{type:H.plugins.parameterType.HTML_STRING,pretty_name:"stimulus",default:void 0,description:"The HTML string to be displayed"},choices:{type:H.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:H.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:H.plugins.parameterType.STRING,pretty_name:"Prompt",default:"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:H.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:-1,description:"How long to hide the stimulus."},trial_duration:{type:H.plugins.parameterType.INT,pretty_name:"Trial duration",default:-1,description:"How long to show trial before it ends."},response_ends_trial:{type:H.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},p.trial=function(e,t){var r='<div id="jspsych-callback-html-keyboard-response-stimulus">'+t.stimulus+"</div>";function i(){H.pluginAPI.clearAllTimeouts(),void 0!==n&&H.pluginAPI.cancelKeyboardResponse(n);var r={rt:a.rt,stimulus:t.stimulus,key_press:a.key};e.innerHTML="",H.finishTrial(r)}"function"==typeof t.on_start?t.on_start.call():void 0!==t.on_start&&(t.data.on_start=t.on_start),r+=t.prompt,e.innerHTML=r;var n,a={rt:-1,key:-1};t.choices!=H.NO_KEYS&&(n=H.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-callback-html-keyboard-response-stimulus").className+=" responded",-1==a.key&&(a=r),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),0<t.stimulus_duration&&H.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-callback-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),0<t.trial_duration&&H.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},p),window.jsPsych||r(0)),K=(r=(r={},z.pluginAPI.registerPreload("callback-image-keyboard-response","stimulus","image"),r.info={name:"callback-image-keyboard-response",description:"",parameters:{stimulus:{type:z.plugins.parameterType.IMAGE,pretty_name:"stimulus",default:void 0,description:"The image to be displayed"},choices:{type:z.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices",default:z.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:z.plugins.parameterType.STRING,pretty_name:"Prompt",default:"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:z.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:-1,description:"How long to hide the stimulus."},trial_duration:{type:z.plugins.parameterType.INT,pretty_name:"Trial duration",default:-1,description:"How long to show trial before it ends."},response_ends_trial:{type:z.plugins.parameterType.BOOL,pretty_name:"Response ends trial",default:!0,description:"If true, trial will end when subject makes a response."}}},r.trial=function(e,t){var r='<img src="'+t.stimulus+'" id="jspsych-callback-image-keyboard-response-stimulus"></img>';function i(){z.pluginAPI.clearAllTimeouts(),void 0!==n&&z.pluginAPI.cancelKeyboardResponse(n);var r={rt:a.rt,stimulus:t.stimulus,key_press:a.key};e.innerHTML="",z.finishTrial(r)}r+=t.prompt,"function"==typeof t.on_start?t.on_start.call():void 0!==t.on_start&&(t.data.on_start=t.on_start),e.innerHTML=r;var n,a={rt:-1,key:-1};t.choices!=z.NO_KEYS&&(n=z.pluginAPI.getKeyboardResponse({callback_function:function(r){e.querySelector("#jspsych-callback-image-keyboard-response-stimulus").className+=" responded",-1==a.key&&(a=r),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})),0<t.stimulus_duration&&z.pluginAPI.setTimeout((function(){e.querySelector("#jspsych-callback-image-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),0<t.trial_duration&&z.pluginAPI.setTimeout((function(){i()}),t.trial_duration)},r),{animation:l.a,"audio-button-response":u.a,"audio-slider-response":m.a,"audio-keyboard-response":d.a,"call-function":h.a,"categorize-html":_.a,"external-html":b.a,"free-sort":w.a,fullscreen:I.a,"html-button-response":j.a,"html-slider-response":P.a,"html-keyboard-response":A.a,"iat-html":N.a,"iat-image":q.a,"image-slider-response":t.a,"image-keyboard-response":R.a,"image-button-response":o.a,instructions:c.a,reconstruction:f.a,resize:v.a,"same-different-html":k.a,"same-different-image":S.a,"serial-reaction-time-mouse":O.a,"serial-reaction-time":M.a,"survey-likert":a.a,"survey-multi-choice":y.a,"survey-multi-select":T.a,"survey-text":L.a,video:C.a,"visual-search-circle":g.a,"vsl-animate-occlusion":E.a,"vsl-grid-scene":x.a,"callback-html-keyboard-response":p,"callback-image-keyboard-response":r});function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)),i}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){var i,n;i=e,t=r[n=t],n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,i.Component);var e,t,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=V(e);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=V(this).constructor,Reflect.construct(i,arguments,r)):i.apply(this,arguments))}}(a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=r.call(this,e);return Object.assign(s.a.plugins,K,e.plugins),t.handleKeyEvent=function(e){e.redispatched||((e=new e.constructor(e.type,e)).redispatched=!0,t.experimentDiv.dispatchEvent(e))},t.experimentDiv=null,t.width=e.width||"100%",t.height=e.height||"100%",t.settings=D(D({},e.settings),{},{timeline:e.settings.timeline||[{type:"html-keyboard-response",stimulus:"This is the default timeline."}]}),t}return e=a,(t=[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"experimentWindow",style:{height:this.height,width:this.width},ref:function(t){e.experimentDiv=t}})}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyEvent,!0),window.addEventListener("keydown",this.handleKeyEvent,!0),s.a.init(D(D({},this.settings),{},{display_element:this.experimentDiv}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyEvent,!0),window.removeEventListener("keydown",this.handleKeyEvent,!0);try{s.a.endExperiment("Ended Experiment")}catch(e){console.log("Experiment closed before unmount")}}}])&&F(e.prototype,t),a}()}],r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)e.d(i,n,function(e){return t[e]}.bind(null,n));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=36);function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var t,r}));